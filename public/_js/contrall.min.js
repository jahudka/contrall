!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Z.type(e);return"function"===n||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(oe.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return Q.call(t,e)>=0!==n})}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function r(e){var t=fe[e]={};return Z.each(e.match(pe)||[],function(e,n){t[n]=!0}),t}function a(){G.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Z.ready()}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+o.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(be,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ye.test(n)?Z.parseJSON(n):n}catch(e){}_e.set(e,t,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function h(){try{return G.activeElement}catch(e){}}function d(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Me.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,i=e.length;i>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,i,s,r,a,o,l,u;if(1===t.nodeType){if(ve.hasData(e)&&(r=ve.access(e),a=ve.set(t,r),u=r.events)){delete a.handle,a.events={};for(s in u)for(n=0,i=u[s].length;i>n;n++)Z.event.add(t,s,u[s][n])}_e.hasData(e)&&(o=_e.access(e),l=Z.extend({},o),_e.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function _(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ke.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(t,n){var i,s=Z(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(s[0]))?i.display:Z.css(s[0],"display");return s.detach(),r}function b(e){var t=G,n=Re[e];return n||(n=y(e,t),"none"!==n&&n||(Ie=(Ie||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ie[0].contentDocument,t.write(),t.close(),n=y(e,t),Ie.detach()),Re[e]=n),n}function x(e,t,n){var i,s,r,a,o=e.style;return n=n||Ve(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||Z.contains(e.ownerDocument,e)||(a=Z.style(e,t)),Fe.test(a)&&ze.test(t)&&(i=o.width,s=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=n.width,o.width=i,o.minWidth=s,o.maxWidth=r)),void 0!==a?a+"":a}function w(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,s=Xe.length;s--;)if(t=Xe[s]+n,t in e)return t;return i}function k(e,t,n){var i=Ue.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function T(e,t,n,i,s){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=Z.css(e,n+we[r],!0,s)),i?("content"===n&&(a-=Z.css(e,"padding"+we[r],!0,s)),"margin"!==n&&(a-=Z.css(e,"border"+we[r]+"Width",!0,s))):(a+=Z.css(e,"padding"+we[r],!0,s),"padding"!==n&&(a+=Z.css(e,"border"+we[r]+"Width",!0,s)));return a}function S(e,t,n){var i=!0,s="width"===t?e.offsetWidth:e.offsetHeight,r=Ve(e),a="border-box"===Z.css(e,"boxSizing",!1,r);if(0>=s||null==s){if(s=x(e,t,r),(0>s||null==s)&&(s=e.style[t]),Fe.test(s))return s;i=a&&(Y.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+T(e,t,n||(a?"border":"content"),i,r)+"px"}function E(e,t){for(var n,i,s,r=[],a=0,o=e.length;o>a;a++)i=e[a],i.style&&(r[a]=ve.get(i,"olddisplay"),n=i.style.display,t?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Ce(i)&&(r[a]=ve.access(i,"olddisplay",b(i.nodeName)))):(s=Ce(i),"none"===n&&s||ve.set(i,"olddisplay",s?n:Z.css(i,"display"))));for(a=0;o>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[a]||"":"none"));return e}function A(e,t,n,i,s){return new A.prototype.init(e,t,n,i,s)}function P(){return setTimeout(function(){Ye=void 0}),Ye=Z.now()}function q(e,t){var n,i=0,s={height:e};for(t=t?1:0;4>i;i+=2-t)n=we[i],s["margin"+n]=s["padding"+n]=e;return t&&(s.opacity=s.width=e),s}function D(e,t,n){for(var i,s=(nt[t]||[]).concat(nt["*"]),r=0,a=s.length;a>r;r++)if(i=s[r].call(n,t,e))return i}function N(e,t,n){var i,s,r,a,o,l,u,c,h=this,d={},p=e.style,f=e.nodeType&&Ce(e),m=ve.get(e,"fxshow");n.queue||(o=Z._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,h.always(function(){h.always(function(){o.unqueued--,Z.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=Z.css(e,"display"),c="none"===u?ve.get(e,"olddisplay")||b(e.nodeName):u,"inline"===c&&"none"===Z.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(s=t[i],Je.exec(s)){if(delete t[i],r=r||"toggle"===s,s===(f?"hide":"show")){if("show"!==s||!m||void 0===m[i])continue;f=!0}d[i]=m&&m[i]||Z.style(e,i)}else u=void 0;if(Z.isEmptyObject(d))"inline"===("none"===u?b(e.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(f=m.hidden):m=ve.access(e,"fxshow",{}),r&&(m.hidden=!f),f?Z(e).show():h.done(function(){Z(e).hide()}),h.done(function(){var t;ve.remove(e,"fxshow");for(t in d)Z.style(e,t,d[t])});for(i in d)a=D(f?m[i]:0,i,h),i in m||(m[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function j(e,t){var n,i,s,r,a;for(n in e)if(i=Z.camelCase(n),s=t[i],r=e[n],Z.isArray(r)&&(s=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),a=Z.cssHooks[i],a&&"expand"in a){r=a.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=s)}else t[i]=s}function B(e,t,n){var i,s,r=0,a=tt.length,o=Z.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Ye||P(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,r=1-i,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(r);return o.notifyWith(e,[u,r,n]),1>r&&l?n:(o.resolveWith(e,[u]),!1)},u=o.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ye||P(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Z.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(s)return this;for(s=!0;i>n;n++)u.tweens[n].run(1);return t?o.resolveWith(e,[u,t]):o.rejectWith(e,[u,t]),this}}),c=u.props;for(j(c,u.opts.specialEasing);a>r;r++)if(i=tt[r].call(u,e,c,u.opts))return i;return Z.map(c,D,u),Z.isFunction(u.opts.start)&&u.opts.start.call(e,u),Z.fx.timer(Z.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function L(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,s=0,r=t.toLowerCase().match(pe)||[];if(Z.isFunction(n))for(;i=r[s++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function M(e,t,n,i){function s(o){var l;return r[o]=!0,Z.each(e[o]||[],function(e,o){var u=o(t,n,i);return"string"!=typeof u||a||r[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),s(u),!1)}),l}var r={},a=e===yt;return s(t.dataTypes[0])||!r["*"]&&s("*")}function H(e,t){var n,i,s=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((s[n]?e:i||(i={}))[n]=t[n]);return i&&Z.extend(!0,e,i),e}function O(e,t,n){for(var i,s,r,a,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(s in o)if(o[s]&&o[s].test(i)){l.unshift(s);break}if(l[0]in n)r=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){r=s;break}a||(a=s)}r=r||a}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function I(e,t,n,i){var s,r,a,o,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=u[l+" "+r]||u["* "+r],!a)for(s in u)if(o=s.split(" "),o[1]===r&&(a=u[l+" "+o[0]]||u["* "+o[0]])){a===!0?a=u[s]:u[s]!==!0&&(r=o[0],c.unshift(o[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function R(e,t,n,i){var s;if(Z.isArray(t))Z.each(t,function(t,s){n||kt.test(e)?i(e,s):R(e+"["+("object"==typeof s?t:"")+"]",s,n,i)});else if(n||"object"!==Z.type(t))i(e,t);else for(s in t)R(e+"["+s+"]",t[s],n,i)}function z(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var F=[],V=F.slice,W=F.concat,U=F.push,Q=F.indexOf,$={},K=$.toString,X=$.hasOwnProperty,Y={},G=e.document,J="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,ie=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:J,constructor:Z,selector:"",length:0,toArray:function(){return V.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:V.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:F.sort,splice:F.splice},Z.extend=Z.fn.extend=function(){var e,t,n,i,s,r,a=arguments[0]||{},o=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[o]||{},o++),"object"==typeof a||Z.isFunction(a)||(a={}),o===l&&(a=this,o--);l>o;o++)if(null!=(e=arguments[o]))for(t in e)n=a[t],i=e[t],a!==i&&(u&&i&&(Z.isPlainObject(i)||(s=Z.isArray(i)))?(s?(s=!1,r=n&&Z.isArray(n)?n:[]):r=n&&Z.isPlainObject(n)?n:{},a[t]=Z.extend(u,r,i)):void 0!==i&&(a[t]=i));return a},Z.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!X.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?$[K.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=G.createElement("script"),t.text=e,G.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,ie)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var s,r=0,a=e.length,o=n(e);if(i){if(o)for(;a>r&&(s=t.apply(e[r],i),s!==!1);r++);else for(r in e)if(s=t.apply(e[r],i),s===!1)break}else if(o)for(;a>r&&(s=t.call(e[r],r,e[r]),s!==!1);r++);else for(r in e)if(s=t.call(e[r],r,e[r]),s===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?Z.merge(i,"string"==typeof e?[e]:e):U.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:Q.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,s=e.length;n>i;i++)e[s++]=t[i];return e.length=s,e},grep:function(e,t,n){for(var i,s=[],r=0,a=e.length,o=!n;a>r;r++)i=!t(e[r],r),i!==o&&s.push(e[r]);return s},map:function(e,t,i){var s,r=0,a=e.length,o=n(e),l=[];if(o)for(;a>r;r++)s=t(e[r],r,i),null!=s&&l.push(s);else for(r in e)s=t(e[r],r,i),null!=s&&l.push(s);return W.apply([],l)},guid:1,proxy:function(e,t){var n,i,s;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(i=V.call(arguments,2),s=function(){return e.apply(t||this,i.concat(V.call(arguments)))},s.guid=e.guid=e.guid||Z.guid++,s):void 0},now:Date.now,support:Y}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){$["[object "+t+"]"]=t.toLowerCase()});var se=function(e){function t(e,t,n,i){var s,r,a,o,l,u,h,p,f,m;if((t?t.ownerDocument||t:R)!==N&&D(t),t=t||N,n=n||[],o=t.nodeType,"string"!=typeof e||!e||1!==o&&9!==o&&11!==o)return n;if(!i&&B){if(11!==o&&(s=_e.exec(e)))if(a=s[1]){if(9===o){if(r=t.getElementById(a),!r||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&O(t,r)&&r.id===a)return n.push(r),n}else{if(s[2])return J.apply(n,t.getElementsByTagName(e)),n;if((a=s[3])&&x.getElementsByClassName)return J.apply(n,t.getElementsByClassName(a)),n}if(x.qsa&&(!L||!L.test(e))){if(p=h=I,f=t,m=1!==o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(u=T(e),(h=t.getAttribute("id"))?p=h.replace(be,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+d(u[l]);f=ye.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return J.apply(n,f.querySelectorAll(m)),n}catch(e){}finally{h||t.removeAttribute("id")}}}return E(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[I]=!0,e}function s(e){var t=N.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||$)-(~e.sourceIndex||$);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var s,r=e([],n.length,t),a=r.length;a--;)n[s=r[a]]&&(n[s]=!(i[s]=n[s]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,s=n&&"parentNode"===i,r=F++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r)}:function(t,n,a){var o,l,u=[z,r];if(a){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||s){if(l=t[I]||(t[I]={}),(o=l[i])&&o[0]===z&&o[1]===r)return u[2]=o[2];if(l[i]=u,u[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var s=e.length;s--;)if(!e[s](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var s=0,r=n.length;r>s;s++)t(e,n[s],i);return i}function g(e,t,n,i,s){for(var r,a=[],o=0,l=e.length,u=null!=t;l>o;o++)(r=e[o])&&(!n||n(r,i,s))&&(a.push(r),u&&t.push(o));return a}function v(e,t,n,s,r,a){return s&&!s[I]&&(s=v(s)),r&&!r[I]&&(r=v(r,a)),i(function(i,a,o,l){var u,c,h,d=[],p=[],f=a.length,v=i||m(t||"*",o.nodeType?[o]:o,[]),_=!e||!i&&t?v:g(v,d,e,o,l),y=n?r||(i?e:f||s)?[]:a:_;if(n&&n(_,y,o,l),s)for(u=g(y,p),s(u,[],o,l),c=u.length;c--;)(h=u[c])&&(y[p[c]]=!(_[p[c]]=h));if(i){if(r||e){if(r){for(u=[],c=y.length;c--;)(h=y[c])&&u.push(_[c]=h);r(null,y=[],u,l)}for(c=y.length;c--;)(h=y[c])&&(u=r?ee(i,h):d[c])>-1&&(i[u]=!(a[u]=h))}}else y=g(y===a?y.splice(f,y.length):y),r?r(null,a,y,l):J.apply(a,y)})}function _(e){for(var t,n,i,s=e.length,r=w.relative[e[0].type],a=r||w.relative[" "],o=r?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,i){var s=!r&&(i||n!==A)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,s}];s>o;o++)if(n=w.relative[e[o].type])c=[p(f(c),n)];else{if(n=w.filter[e[o].type].apply(null,e[o].matches),n[I]){for(i=++o;s>i&&!w.relative[e[i].type];i++);return v(o>1&&f(c),o>1&&d(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(le,"$1"),n,i>o&&_(e.slice(o,i)),s>i&&_(e=e.slice(i)),s>i&&d(e))}c.push(n)}return f(c)}function y(e,n){var s=n.length>0,r=e.length>0,a=function(i,a,o,l,u){var c,h,d,p=0,f="0",m=i&&[],v=[],_=A,y=i||r&&w.find.TAG("*",u),b=z+=null==_?1:Math.random()||.1,x=y.length;for(u&&(A=a!==N&&a);f!==x&&null!=(c=y[f]);f++){if(r&&c){for(h=0;d=e[h++];)if(d(c,a,o)){l.push(c);break}u&&(z=b)}s&&((c=!d&&c)&&p--,i&&m.push(c))}if(p+=f,s&&f!==p){for(h=0;d=n[h++];)d(m,v,a,o);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Y.call(l));v=g(v)}J.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(z=b,A=_),m};return s?i(a):a}var b,x,w,C,k,T,S,E,A,P,q,D,N,j,B,L,M,H,O,I="sizzle"+1*new Date,R=e.document,z=0,F=0,V=n(),W=n(),U=n(),Q=function(e,t){return e===t&&(q=!0),0},$=1<<31,K={}.hasOwnProperty,X=[],Y=X.pop,G=X.push,J=X.push,Z=X.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se=ie.replace("w","w#"),re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+se+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),he=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ae),pe=new RegExp("^"+se+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ce=function(){D()};try{J.apply(X=Z.call(R.childNodes),R.childNodes),X[R.childNodes.length].nodeType}catch(e){J={apply:X.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},D=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:R;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,j=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),B=!k(i),x.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=s(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(i.getElementsByClassName),x.getById=s(function(e){return j.appendChild(e).id=I,!i.getElementsByName||!i.getElementsByName(I).length}),x.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&B){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(xe,we);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(xe,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],s=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[s++];)1===n.nodeType&&i.push(n);return i}return r},w.find.CLASS=x.getElementsByClassName&&function(e,t){return B?t.getElementsByClassName(e):void 0},M=[],L=[],(x.qsa=ve.test(i.querySelectorAll))&&(s(function(e){j.appendChild(e).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+I+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+I+"+*").length||L.push(".#.+[+~]")}),s(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=ve.test(H=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&s(function(e){x.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),M.push("!=",ae)}),L=L.length&&new RegExp(L.join("|")),M=M.length&&new RegExp(M.join("|")),t=ve.test(j.compareDocumentPosition),O=t||ve.test(j.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Q=t?function(e,t){if(e===t)return q=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===R&&O(R,e)?-1:t===i||t.ownerDocument===R&&O(R,t)?1:P?ee(P,e)-ee(P,t):0:4&n?-1:1)}:function(e,t){if(e===t)return q=!0,0;var n,s=0,r=e.parentNode,o=t.parentNode,l=[e],u=[t];if(!r||!o)return e===i?-1:t===i?1:r?-1:o?1:P?ee(P,e)-ee(P,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[s]===u[s];)s++;return s?a(l[s],u[s]):l[s]===R?-1:u[s]===R?1:0},i):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&D(e),n=n.replace(he,"='$1']"),x.matchesSelector&&B&&(!M||!M.test(n))&&(!L||!L.test(n)))try{var i=H.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&D(e),O(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&D(e);var n=w.attrHandle[t.toLowerCase()],i=n&&K.call(w.attrHandle,t.toLowerCase())?n(e,t,!B):void 0;return void 0!==i?i:x.attributes||!B?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,s=0;if(q=!x.detectDuplicates,P=!x.sortStable&&e.slice(0),e.sort(Q),q){for(;t=e[s++];)t===e[s]&&(i=n.push(s));for(;i--;)e.splice(n[i],1)}return P=null,e},C=t.getText=function(e){var t,n="",i=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},w=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,we),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(s){var r=t.attr(s,e);return null==r?"!="===n:n?(r+="","="===n?r===i:"!="===n?r!==i:"^="===n?i&&0===r.indexOf(i):"*="===n?i&&r.indexOf(i)>-1:"$="===n?i&&r.slice(-i.length)===i:"~="===n?(" "+r.replace(oe," ")+" ").indexOf(i)>-1:"|="===n?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,s){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===s?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,p,f,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),_=!l&&!o;if(g){if(r){for(;m;){for(h=t;h=h[m];)if(o?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&_){for(c=g[I]||(g[I]={}),u=c[e]||[],p=u[0]===z&&u[1],d=u[0]===z&&u[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){c[e]=[z,p,d];break}}else if(_&&(u=(t[I]||(t[I]={}))[e])&&u[0]===z)d=u[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((o?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(_&&((h[I]||(h[I]={}))[e]=[z,d]),h!==t)););return d-=s,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(e,n){var s,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[I]?r(n):r.length>1?(s=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,s=r(e,n),a=s.length;a--;)i=ee(e,s[a]),e[i]=!(t[i]=s[a])}):function(e){return r(e,0,s)}):r}},pseudos:{not:i(function(e){var t=[],n=[],s=S(e.replace(le,"$1"));return s[I]?i(function(e,t,n,i){for(var r,a=s(e,null,i,[]),o=e.length;o--;)(r=a[o])&&(e[o]=!(t[o]=r))}):function(e,i,r){return t[0]=e,s(t,null,r,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(xe,we),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,we).toLowerCase(),function(t){var n;do if(n=B?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===j},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=o(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=l(b);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,T=t.tokenize=function(e,n){var i,s,r,a,o,l,u,c=W[e+" "];if(c)return n?0:c.slice(0);for(o=e,l=[],u=w.preFilter;o;){(!i||(s=ue.exec(o)))&&(s&&(o=o.slice(s[0].length)||o),l.push(r=[])),i=!1,(s=ce.exec(o))&&(i=s.shift(),r.push({value:i,type:s[0].replace(le," ")}),o=o.slice(i.length));for(a in w.filter)!(s=fe[a].exec(o))||u[a]&&!(s=u[a](s))||(i=s.shift(),r.push({value:i,type:a,matches:s}),o=o.slice(i.length));if(!i)break}return n?o.length:o?t.error(e):W(e,l).slice(0)},S=t.compile=function(e,t){var n,i=[],s=[],r=U[e+" "];if(!r){for(t||(t=T(e)),n=t.length;n--;)r=_(t[n]),r[I]?i.push(r):s.push(r);r=U(e,y(s,i)),r.selector=e}return r},E=t.select=function(e,t,n,i){var s,r,a,o,l,u="function"==typeof e&&e,h=!i&&T(e=u.selector||e);if(n=n||[],1===h.length){if(r=h[0]=h[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&x.getById&&9===t.nodeType&&B&&w.relative[r[1].type]){if(t=(w.find.ID(a.matches[0].replace(xe,we),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(s=fe.needsContext.test(e)?0:r.length;s--&&(a=r[s],!w.relative[o=a.type]);)if((l=w.find[o])&&(i=l(a.matches[0].replace(xe,we),ye.test(r[0].type)&&c(t.parentNode)||t))){if(r.splice(s,1),e=i.length&&d(r),!e)return J.apply(n,i),n;break}}return(u||S(e,h))(i,t,!B,n,ye.test(e)&&c(t.parentNode)||t),n},x.sortStable=I.split("").sort(Q).join("")===I,x.detectDuplicates=!!q,D(),x.sortDetached=s(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);Z.find=se,Z.expr=se.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=se.uniqueSort,Z.text=se.getText,Z.isXMLDoc=se.isXML,Z.contains=se.contains;var re=Z.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oe=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?Z.find.matchesSelector(i,e)?[i]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,i=[],s=this;
if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(s[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,s[t],i);return i=this.pushStack(n>1?Z.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&re.test(e)?Z(e):e||[],!1).length}});var le,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Z.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ue.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:G,!0)),ae.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=G.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ce.prototype=Z.fn,le=Z(G);var he=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var i=[],s=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&Z(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,s=this.length,r=[],a=re.test(e)||"string"!=typeof e?Z(e,t||this.context):0;s>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?Z.unique(r):r)},index:function(e){return e?"string"==typeof e?Q.call(Z(e),this[0]):Q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,i){var s=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(s=Z.filter(i,s)),this.length>1&&(de[e]||Z.unique(s),he.test(e)&&s.reverse()),this.pushStack(s)}});var pe=/\S+/g,fe={};Z.Callbacks=function(e){e="string"==typeof e?fe[e]||r(e):Z.extend({},e);var t,n,i,s,a,o,l=[],u=!e.once&&[],c=function(r){for(t=e.memory&&r,n=!0,o=s||0,s=0,a=l.length,i=!0;l&&a>o;o++)if(l[o].apply(r[0],r[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function t(n){Z.each(n,function(n,i){var s=Z.type(i);"function"===s?e.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==s&&t(i)})}(arguments),i?a=l.length:t&&(s=n,c(t))}return this},remove:function(){return l&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,l,n))>-1;)l.splice(n,1),i&&(a>=n&&a--,o>=n&&o--)}),this},has:function(e){return e?Z.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],i?u.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,r){var a=Z.isFunction(e[t])&&e[t];s[r[1]](function(){var e=a&&a.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,i):i}},s={};return i.pipe=i.then,Z.each(t,function(e,r){var a=r[2],o=r[3];i[r[1]]=a.add,o&&a.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),s[r[0]]=function(){return s[r[0]+"With"](this===s?i:this,arguments),this},s[r[0]+"With"]=a.fireWith}),i.promise(s),e&&e.call(s,s),s},when:function(e){var t,n,i,s=0,r=V.call(arguments),a=r.length,o=1!==a||e&&Z.isFunction(e.promise)?a:0,l=1===o?e:Z.Deferred(),u=function(e,n,i){return function(s){n[e]=this,i[e]=arguments.length>1?V.call(arguments):s,i===t?l.notifyWith(n,i):--o||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>s;s++)r[s]&&Z.isFunction(r[s].promise)?r[s].promise().done(u(s,i,r)).fail(l.reject).progress(u(s,n,t)):--o;return o||l.resolveWith(i,r),l.promise()}});var me;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(me.resolveWith(G,[Z]),Z.fn.triggerHandler&&(Z(G).triggerHandler("ready"),Z(G).off("ready"))))}}),Z.ready.promise=function(t){return me||(me=Z.Deferred(),"complete"===G.readyState?setTimeout(Z.ready):(G.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),me.promise(t)},Z.ready.promise();var ge=Z.access=function(e,t,n,i,s,r,a){var o=0,l=e.length,u=null==n;if("object"===Z.type(n)){s=!0;for(o in n)Z.access(e,t,o,n[o],!0,r,a)}else if(void 0!==i&&(s=!0,Z.isFunction(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(Z(e),n)})),t))for(;l>o;o++)t(e[o],n,a?i:i.call(e[o],o,t(e[o],n)));return s?e:u?t.call(e):l?t(e[0],n):r};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},o.uid=1,o.accepts=Z.acceptData,o.prototype={key:function(e){if(!o.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=o.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,s=this.key(e),r=this.cache[s];if("string"==typeof t)r[t]=n;else if(Z.isEmptyObject(r))Z.extend(this.cache[s],t);else for(i in t)r[i]=t[i];return r},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,s,r=this.key(e),a=this.cache[r];if(void 0===t)this.cache[r]={};else{Z.isArray(t)?i=t.concat(t.map(Z.camelCase)):(s=Z.camelCase(t),t in a?i=[t,s]:(i=s,i=i in a?[i]:i.match(pe)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new o,_e=new o,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/([A-Z])/g;Z.extend({hasData:function(e){return _e.hasData(e)||ve.hasData(e)},data:function(e,t,n){return _e.access(e,t,n)},removeData:function(e,t){_e.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,i,s,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(s=_e.get(r),1===r.nodeType&&!ve.get(r,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=Z.camelCase(i.slice(5)),l(r,i,s[i])));ve.set(r,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){_e.set(this,e)}):ge(this,function(t){var n,i=Z.camelCase(e);if(r&&void 0===t){if(n=_e.get(r,e),void 0!==n)return n;if(n=_e.get(r,i),void 0!==n)return n;if(n=l(r,i,void 0),void 0!==n)return n}else this.each(function(){var n=_e.get(this,i);_e.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&_e.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){_e.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ve.get(e,t),n&&(!i||Z.isArray(n)?i=ve.access(e,t,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),i=n.length,s=n.shift(),r=Z._queueHooks(e,t),a=function(){Z.dequeue(e,t)};"inprogress"===s&&(s=n.shift(),i--),s&&("fx"===t&&n.unshift("inprogress"),delete r.stop,s.call(e,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,s=Z.Deferred(),r=this,a=this.length,o=function(){--i||s.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ve.get(r[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(o));return o(),s.promise(t)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,we=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},ke=/^(?:checkbox|radio)$/i;!function(){var e=G.createDocumentFragment(),t=e.appendChild(G.createElement("div")),n=G.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Y.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Te="undefined";Y.focusinBubbles="onfocusin"in e;var Se=/^key/,Ee=/^(?:mouse|pointer|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,Pe=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,i,s){var r,a,o,l,u,c,h,d,p,f,m,g=ve.get(e);if(g)for(n.handler&&(r=n,n=r.handler,s=r.selector),n.guid||(n.guid=Z.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof Z!==Te&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pe)||[""],u=t.length;u--;)o=Pe.exec(t[u])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p&&(h=Z.event.special[p]||{},p=(s?h.delegateType:h.bindType)||p,h=Z.event.special[p]||{},c=Z.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:s,needsContext:s&&Z.expr.match.needsContext.test(s),namespace:f.join(".")},r),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&h.setup.call(e,i,f,a)!==!1||e.addEventListener&&e.addEventListener(p,a,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),s?d.splice(d.delegateCount++,0,c):d.push(c),Z.event.global[p]=!0)},remove:function(e,t,n,i,s){var r,a,o,l,u,c,h,d,p,f,m,g=ve.hasData(e)&&ve.get(e);if(g&&(l=g.events)){for(t=(t||"").match(pe)||[""],u=t.length;u--;)if(o=Pe.exec(t[u])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p){for(h=Z.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=l[p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=d.length;r--;)c=d[r],!s&&m!==c.origType||n&&n.guid!==c.guid||o&&!o.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(r,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));a&&!d.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||Z.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)Z.event.remove(e,p+t[u],n,i,!0);Z.isEmptyObject(l)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,n,i,s){var r,a,o,l,u,c,h,d=[i||G],p=X.call(t,"type")?t.type:t,f=X.call(t,"namespace")?t.namespace.split("."):[];if(a=o=i=i||G,3!==i.nodeType&&8!==i.nodeType&&!Ae.test(p+Z.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,t=t[Z.expando]?t:new Z.Event(p,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:Z.makeArray(n,[t]),h=Z.event.special[p]||{},s||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!s&&!h.noBubble&&!Z.isWindow(i)){for(l=h.delegateType||p,Ae.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),o=a;o===(i.ownerDocument||G)&&d.push(o.defaultView||o.parentWindow||e)}for(r=0;(a=d[r++])&&!t.isPropagationStopped();)t.type=r>1?l:h.bindType||p,c=(ve.get(a,"events")||{})[t.type]&&ve.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Z.acceptData(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=p,s||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!Z.acceptData(i)||u&&Z.isFunction(i[p])&&!Z.isWindow(i)&&(o=i[u],o&&(i[u]=null),Z.event.triggered=p,i[p](),Z.event.triggered=void 0,o&&(i[u]=o)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,i,s,r,a=[],o=V.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],u=Z.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=Z.event.handlers.call(this,e,l),t=0;(s=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,n=0;(r=s.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,i=((Z.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,o),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,s,r,a=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;o>n;n++)r=t[n],s=r.selector+" ",void 0===i[s]&&(i[s]=r.needsContext?Z(s,this).index(l)>=0:Z.find(s,this,null,[l]).length),i[s]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return o<t.length&&a.push({elem:this,handlers:t.slice(o)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,s,r=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||G,i=n.documentElement,s=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,i,s=e.type,r=e,a=this.fixHooks[s];for(a||(this.fixHooks[s]=a=Ee.test(s)?this.mouseHooks:Se.test(s)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new Z.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=G),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var s=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(s,null,t):Z.event.dispatch.call(t,s),s.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:c):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,s=e.relatedTarget,r=e.handleObj;return(!s||s!==i&&!Z.contains(i,s))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),Y.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var i=this.ownerDocument||this,s=ve.access(i,t);s||i.addEventListener(e,n,!0),ve.access(i,t,(s||0)+1)},teardown:function(){var i=this.ownerDocument||this,s=ve.access(i,t)-1;s?ve.access(i,t,s):(i.removeEventListener(e,n,!0),ve.remove(i,t))}}}),Z.fn.extend({on:function(e,t,n,i,s){var r,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],s);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=c;else if(!i)return this;return 1===s&&(r=i,i=function(e){return Z().off(e),r.apply(this,arguments)},i.guid=r.guid||(r.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Z(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,De=/<([\w:]+)/,Ne=/<|&#?\w+;/,je=/<(?:script|style|link)/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^$|\/(?:java|ecma)script/i,Me=/^true\/(.*)/,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Oe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Oe.optgroup=Oe.option,Oe.tbody=Oe.tfoot=Oe.colgroup=Oe.caption=Oe.thead,Oe.th=Oe.td,Z.extend({clone:function(e,t,n){var i,s,r,a,o=e.cloneNode(!0),l=Z.contains(e.ownerDocument,e);if(!(Y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(a=v(o),r=v(e),i=0,s=r.length;s>i;i++)_(r[i],a[i]);if(t)if(n)for(r=r||v(e),a=a||v(o),i=0,s=r.length;s>i;i++)g(r[i],a[i]);else g(e,o);return a=v(o,"script"),a.length>0&&m(a,!l&&v(e,"script")),o},buildFragment:function(e,t,n,i){for(var s,r,a,o,l,u,c=t.createDocumentFragment(),h=[],d=0,p=e.length;p>d;d++)if(s=e[d],s||0===s)if("object"===Z.type(s))Z.merge(h,s.nodeType?[s]:s);else if(Ne.test(s)){for(r=r||c.appendChild(t.createElement("div")),a=(De.exec(s)||["",""])[1].toLowerCase(),o=Oe[a]||Oe._default,r.innerHTML=o[1]+s.replace(qe,"<$1></$2>")+o[2],u=o[0];u--;)r=r.lastChild;Z.merge(h,r.childNodes),r=c.firstChild,r.textContent=""}else h.push(t.createTextNode(s));for(c.textContent="",d=0;s=h[d++];)if((!i||-1===Z.inArray(s,i))&&(l=Z.contains(s.ownerDocument,s),r=v(c.appendChild(s),"script"),l&&m(r),n))for(u=0;s=r[u++];)Le.test(s.type||"")&&n.push(s);return c},cleanData:function(e){for(var t,n,i,s,r=Z.event.special,a=0;void 0!==(n=e[a]);a++){if(Z.acceptData(n)&&(s=n[ve.expando],s&&(t=ve.cache[s]))){if(t.events)for(i in t.events)r[i]?Z.event.remove(n,i):Z.removeEvent(n,i,t.handle);ve.cache[s]&&delete ve.cache[s]}delete _e.cache[n[_e.expando]]}}}),Z.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?Z.filter(e,this):this,s=0;null!=(n=i[s]);s++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!je.test(e)&&!Oe[(De.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(qe,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=W.apply([],e);var n,i,s,r,a,o,l=0,u=this.length,c=this,h=u-1,d=e[0],m=Z.isFunction(d);if(m||u>1&&"string"==typeof d&&!Y.checkClone&&Be.test(d))return this.each(function(n){var i=c.eq(n);m&&(e[0]=d.call(this,n,i.html())),i.domManip(e,t)});if(u&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(s=Z.map(v(n,"script"),p),r=s.length;u>l;l++)a=n,l!==h&&(a=Z.clone(a,!0,!0),r&&Z.merge(s,v(a,"script"))),t.call(this[l],a,l);if(r)for(o=s[s.length-1].ownerDocument,Z.map(s,f),l=0;r>l;l++)a=s[l],Le.test(a.type||"")&&!ve.access(a,"globalEval")&&Z.contains(o,a)&&(a.src?Z._evalUrl&&Z._evalUrl(a.src):Z.globalEval(a.textContent.replace(He,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,i=[],s=Z(e),r=s.length-1,a=0;r>=a;a++)n=a===r?this:this.clone(!0),Z(s[a])[t](n),U.apply(i,n.get());return this.pushStack(i)}});var Ie,Re={},ze=/^margin/,Fe=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),Ve=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",s.appendChild(r);var t=e.getComputedStyle(a,null);n="1%"!==t.top,i="4px"===t.width,s.removeChild(r)}var n,i,s=G.documentElement,r=G.createElement("div"),a=G.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===a.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(a),e.getComputedStyle&&Z.extend(Y,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=a.appendChild(G.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",s.appendChild(r),t=!parseFloat(e.getComputedStyle(n,null).marginRight),s.removeChild(r),a.removeChild(n),t}}))}(),Z.swap=function(e,t,n,i){var s,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];s=n.apply(e,i||[]);for(r in t)e.style[r]=a[r];return s};var We=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+xe+")(.*)$","i"),Qe=new RegExp("^([+-])=("+xe+")","i"),$e={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=x(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,r,a,o=Z.camelCase(t),l=e.style;return t=Z.cssProps[o]||(Z.cssProps[o]=C(l,o)),a=Z.cssHooks[t]||Z.cssHooks[o],void 0===n?a&&"get"in a&&void 0!==(s=a.get(e,!1,i))?s:l[t]:(r=typeof n,"string"===r&&(s=Qe.exec(n))&&(n=(s[1]+1)*s[2]+parseFloat(Z.css(e,t)),r="number"),null!=n&&n===n&&("number"!==r||Z.cssNumber[o]||(n+="px"),Y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n)),void 0)}},css:function(e,t,n,i){var s,r,a,o=Z.camelCase(t);return t=Z.cssProps[o]||(Z.cssProps[o]=C(e.style,o)),a=Z.cssHooks[t]||Z.cssHooks[o],a&&"get"in a&&(s=a.get(e,!0,n)),void 0===s&&(s=x(e,t,i)),"normal"===s&&t in Ke&&(s=Ke[t]),""===n||n?(r=parseFloat(s),n===!0||Z.isNumeric(r)?r||0:s):s}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,i){return n?We.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,$e,function(){return S(e,t,i)}):S(e,t,i):void 0},set:function(e,n,i){var s=i&&Ve(e);return k(e,n,i?T(e,t,i,"border-box"===Z.css(e,"boxSizing",!1,s),s):0)}}}),Z.cssHooks.marginRight=w(Y.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},x,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var i=0,s={},r="string"==typeof n?n.split(" "):[n];4>i;i++)s[e+we[i]+t]=r[i]||r[i-2]||r[0];return s}},ze.test(e)||(Z.cssHooks[e+t].set=k)}),Z.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var i,s,r={},a=0;if(Z.isArray(t)){for(i=Ve(e),s=t.length;s>a;a++)r[t[a]]=Z.css(e,t[a],!1,i);return r}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=A,A.prototype={constructor:A,init:function(e,t,n,i,s,r){this.elem=e,this.prop=n,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(Z.cssNumber[n]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,n=A.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=A.prototype.init,Z.fx.step={};var Ye,Ge,Je=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[N],nt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),s=Ze.exec(t),r=s&&s[3]||(Z.cssNumber[e]?"":"px"),a=(Z.cssNumber[e]||"px"!==r&&+i)&&Ze.exec(Z.css(n.elem,e)),o=1,l=20;if(a&&a[3]!==r){r=r||a[3],s=s||[],a=+i||1;do o=o||".5",a/=o,Z.style(n.elem,e,a+r);while(o!==(o=n.cur()/i)&&1!==o&&--l)}return s&&(a=n.start=+a||+i||0,n.unit=r,n.end=s[1]?a+(s[1]+1)*s[2]:+s[2]),n}]};Z.Animation=Z.extend(B,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,s=e.length;s>i;i++)n=e[i],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,n){var i=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var s=Z.isEmptyObject(e),r=Z.speed(t,n,i),a=function(){var t=B(this,Z.extend({},e),r);(s||ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,s||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",r=Z.timers,a=ve.get(this);if(s)a[s]&&a[s].stop&&i(a[s]);else for(s in a)a[s]&&a[s].stop&&et.test(s)&&i(a[s]);for(s=r.length;s--;)r[s].elem!==this||null!=e&&r[s].queue!==e||(r[s].anim.stop(n),t=!1,r.splice(s,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),i=n[e+"queue"],s=n[e+"queueHooks"],r=Z.timers,a=i?i.length:0;for(n.finish=!0,Z.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),
t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,i,s){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(q(t,!0),e,i,s)}}),Z.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Ye=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Ye=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Ge||(Ge=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Ge),Ge=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=G.createElement("input"),t=G.createElement("select"),n=t.appendChild(G.createElement("option"));e.type="checkbox",Y.checkOn=""!==e.value,Y.optSelected=n.selected,t.disabled=!0,Y.optDisabled=!n.disabled,e=G.createElement("input"),e.value="t",e.type="radio",Y.radioValue="t"===e.value}();var it,st,rt=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return ge(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var i,s,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===Te?Z.prop(e,t,n):(1===r&&Z.isXMLDoc(e)||(t=t.toLowerCase(),i=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?st:it)),void 0===n?i&&"get"in i&&null!==(s=i.get(e,t))?s:(s=Z.find.attr(e,t),null==s?void 0:s):null!==n?i&&"set"in i&&void 0!==(s=i.set(e,n,t))?s:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,i,s=0,r=t&&t.match(pe);if(r&&1===e.nodeType)for(;n=r[s++];)i=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Y.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),st={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=rt[t]||Z.find.attr;rt[t]=function(e,t,i){var s,r;return i||(r=rt[t],rt[t]=s,s=null!=n(e,t,i)?t.toLowerCase():null,rt[t]=r),s}});var at=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return ge(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,s,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return r=1!==a||!Z.isXMLDoc(e),r&&(t=Z.propFix[t]||t,s=Z.propHooks[t]),void 0!==n?s&&"set"in s&&void 0!==(i=s.set(e,n,t))?i:e[t]=n:s&&"get"in s&&null!==(i=s.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Y.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var ot=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,i,s,r,a,o="string"==typeof e&&e,l=0,u=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(pe)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ot," "):" ")){for(r=0;s=t[r++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");a=Z.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,s,r,a,o=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(o)for(t=(e||"").match(pe)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ot," "):"")){for(r=0;s=t[r++];)for(;i.indexOf(" "+s+" ")>=0;)i=i.replace(" "+s+" "," ");a=e?Z.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,s=Z(this),r=e.match(pe)||[];t=r[i++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else(n===Te||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ot," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;Z.fn.extend({val:function(e){var t,n,i,s=this[0];{if(arguments.length)return i=Z.isFunction(e),this.each(function(n){var s;1===this.nodeType&&(s=i?e.call(this,n,Z(this).val()):e,null==s?s="":"number"==typeof s?s+="":Z.isArray(s)&&(s=Z.map(s,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))});if(s)return t=Z.valHooks[s.type]||Z.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(s,"value"))?n:(n=s.value,"string"==typeof n?n.replace(lt,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,i=e.options,s=e.selectedIndex,r="select-one"===e.type||0>s,a=r?null:[],o=r?s+1:i.length,l=0>s?o:r?s:0;o>l;l++)if(n=i[l],(n.selected||l===s)&&(Y.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var n,i,s=e.options,r=Z.makeArray(t),a=s.length;a--;)i=s[a],(i.selected=Z.inArray(i.value,r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},Y.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ut=Z.now(),ct=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var ht=/#.*$/,dt=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,_t={},yt={},bt="*/".concat("*"),xt=e.location.href,wt=vt.exec(xt.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt,type:"GET",isLocal:ft.test(wt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,Z.ajaxSettings),t):H(Z.ajaxSettings,e)},ajaxPrefilter:L(_t),ajaxTransport:L(yt),ajax:function(e,t){function n(e,t,n,a){var l,c,v,_,b,w=t;2!==y&&(y=2,o&&clearTimeout(o),i=void 0,r=a||"",x.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(_=O(h,x,n)),_=I(h,_,x,l),l?(h.ifModified&&(b=x.getResponseHeader("Last-Modified"),b&&(Z.lastModified[s]=b),b=x.getResponseHeader("etag"),b&&(Z.etag[s]=b)),204===e||"HEAD"===h.type?w="nocontent":304===e?w="notmodified":(w=_.state,c=_.data,v=_.error,l=!v)):(v=w,(e||!w)&&(w="error",0>e&&(e=0))),x.status=e,x.statusText=(t||w)+"",l?f.resolveWith(d,[c,w,x]):f.rejectWith(d,[x,w,v]),x.statusCode(g),g=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,h,l?c:v]),m.fireWith(d,[x,w]),u&&(p.trigger("ajaxComplete",[x,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,s,r,a,o,l,u,c,h=Z.ajaxSetup({},t),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?Z(d):Z.event,f=Z.Deferred(),m=Z.Callbacks("once memory"),g=h.statusCode||{},v={},_={},y=0,b="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!a)for(a={};t=pt.exec(r);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=_[n]=_[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||b;return i&&i.abort(t),n(0,t),this}};if(f.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||xt)+"").replace(ht,"").replace(gt,wt[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().match(pe)||[""],null==h.crossDomain&&(l=vt.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===wt[1]&&l[2]===wt[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(wt[3]||("http:"===wt[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),M(_t,h,t,x),2===y)return x;u=Z.event&&h.global,u&&0===Z.active++&&Z.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!mt.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(ct.test(s)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=dt.test(s)?s.replace(dt,"$1_="+ut++):s+(ct.test(s)?"&":"?")+"_="+ut++)),h.ifModified&&(Z.lastModified[s]&&x.setRequestHeader("If-Modified-Since",Z.lastModified[s]),Z.etag[s]&&x.setRequestHeader("If-None-Match",Z.etag[s])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+bt+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)x.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(d,x,h)===!1||2===y))return x.abort();b="abort";for(c in{success:1,error:1,complete:1})x[c](h[c]);if(i=M(yt,h,t,x)){x.readyState=1,u&&p.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(o=setTimeout(function(){x.abort("timeout")},h.timeout));try{y=1,i.send(v,n)}catch(e){if(!(2>y))throw e;n(-1,e)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,i,s){return Z.isFunction(n)&&(s=s||i,i=n,n=void 0),Z.ajax({url:e,type:t,dataType:s,data:n,success:i})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Ct=/%20/g,kt=/\[\]$/,Tt=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,i=[],s=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){s(this.name,this.value)});else for(n in e)R(n,e[n],t,s);return i.join("&").replace(Ct,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Et.test(this.nodeName)&&!St.test(e)&&(this.checked||!ke.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var At=0,Pt={},qt={0:200,1223:204},Dt=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Pt)Pt[e]()}),Y.cors=!!Dt&&"withCredentials"in Dt,Y.ajax=Dt=!!Dt,Z.ajaxTransport(function(e){var t;return Y.cors||Dt&&!e.crossDomain?{send:function(n,i){var s,r=e.xhr(),a=++At;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)r[s]=e.xhrFields[s];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(s in n)r.setRequestHeader(s,n[s]);t=function(e){return function(){t&&(delete Pt[a],t=r.onload=r.onerror=null,"abort"===e?r.abort():"error"===e?i(r.status,r.statusText):i(qt[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=t(),r.onerror=t("error"),t=Pt[a]=t("abort");try{r.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,s){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&s("error"===e.type?404:200,e.type)}),G.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Nt=[],jt=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Nt.pop()||Z.expando+"_"+ut++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,i){var s,r,a,o=t.jsonp!==!1&&(jt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&jt.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(s=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(jt,"$1"+s):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return a||Z.error(s+" was not called"),a[0]},t.dataTypes[0]="json",r=e[s],e[s]=function(){a=arguments},i.always(function(){e[s]=r,t[s]&&(t.jsonpCallback=n.jsonpCallback,Nt.push(s)),a&&Z.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||G;var i=ae.exec(e),s=!n&&[];return i?[t.createElement(i[1])]:(i=Z.buildFragment([e],t,s),s&&s.length&&Z(s).remove(),Z.merge([],i.childNodes))};var Bt=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&Bt)return Bt.apply(this,arguments);var i,s,r,a=this,o=e.indexOf(" ");return o>=0&&(i=Z.trim(e.slice(o)),e=e.slice(0,o)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(s="POST"),a.length>0&&Z.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?Z("<div>").append(Z.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,r||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Lt=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var i,s,r,a,o,l,u,c=Z.css(e,"position"),h=Z(e),d={};"static"===c&&(e.style.position="relative"),o=h.offset(),r=Z.css(e,"top"),l=Z.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1,u?(i=h.position(),a=i.top,s=i.left):(a=parseFloat(r)||0,s=parseFloat(l)||0),Z.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(d.top=t.top-o.top+a),null!=t.left&&(d.left=t.left-o.left+s),"using"in t?t.using.call(e,d):h.css(d)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,i=this[0],s={top:0,left:0},r=i&&i.ownerDocument;if(r)return t=r.documentElement,Z.contains(t,i)?(typeof i.getBoundingClientRect!==Te&&(s=i.getBoundingClientRect()),n=z(r),{top:s.top+n.pageYOffset-t.clientTop,left:s.left+n.pageXOffset-t.clientLeft}):s},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(i=e.offset()),i.top+=Z.css(e[0],"borderTopWidth",!0),i.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-Z.css(n,"marginTop",!0),left:t.left-i.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Lt;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Lt})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;Z.fn[t]=function(s){return ge(this,function(t,s,r){var a=z(t);return void 0===r?a?a[n]:t[s]:void(a?a.scrollTo(i?e.pageXOffset:r,i?r:e.pageYOffset):t[s]=r)},t,s,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=w(Y.pixelPosition,function(e,n){return n?(n=x(e,t),Fe.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){Z.fn[i]=function(i,s){var r=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||s===!0?"margin":"border");return ge(this,function(t,n,i){var s;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?Z.css(t,n,a):Z.style(t,n,i,a)},t,r?i:void 0,r,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Mt=e.jQuery,Ht=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Ht),t&&e.jQuery===Z&&(e.jQuery=Mt),Z},typeof t===Te&&(e.jQuery=e.$=Z),Z}),function(){function e(e){function t(t,n,i,s,r,a){for(;r>=0&&a>r;r+=e){var o=s?s[r]:r;i=n(i,t[o],o,t)}return i}return function(n,i,s,r){i=y(i,r,4);var a=!S(n)&&_.keys(n),o=(a||n).length,l=e>0?0:o-1;return arguments.length<3&&(s=n[a?a[l]:l],l+=e),t(n,i,s,a,l,o)}}function t(e){return function(t,n,i){n=b(n,i);for(var s=T(t),r=e>0?0:s-1;r>=0&&s>r;r+=e)if(n(t[r],r,t))return r;return-1}}function n(e,t,n){return function(i,s,r){var a=0,o=T(i);if("number"==typeof r)e>0?a=r>=0?r:Math.max(r+o,a):o=r>=0?Math.min(r+1,o):r+o+1;else if(n&&r&&o)return r=n(i,s),i[r]===s?r:-1;if(s!==s)return r=t(c.call(i,a,o),_.isNaN),r>=0?r+a:-1;for(r=e>0?a:o-1;r>=0&&o>r;r+=e)if(i[r]===s)return r;return-1}}function i(e,t){var n=D.length,i=e.constructor,s=_.isFunction(i)&&i.prototype||o,r="constructor";for(_.has(e,r)&&!_.contains(t,r)&&t.push(r);n--;)r=D[n],r in e&&e[r]!==s[r]&&!_.contains(t,r)&&t.push(r)}var s=this,r=s._,a=Array.prototype,o=Object.prototype,l=Function.prototype,u=a.push,c=a.slice,h=o.toString,d=o.hasOwnProperty,p=Array.isArray,f=Object.keys,m=l.bind,g=Object.create,v=function(){},_=function(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):s._=_,_.VERSION="1.8.3";var y=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,s){return e.call(t,n,i,s)};case 4:return function(n,i,s,r){return e.call(t,n,i,s,r)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return null==e?_.identity:_.isFunction(e)?y(e,t,n):_.isObject(e)?_.matcher(e):_.property(e)};_.iteratee=function(e,t){return b(e,t,1/0)};var x=function(e,t){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var s=1;i>s;s++)for(var r=arguments[s],a=e(r),o=a.length,l=0;o>l;l++){var u=a[l];t&&void 0!==n[u]||(n[u]=r[u])}return n}},w=function(e){if(!_.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;return v.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},k=Math.pow(2,53)-1,T=C("length"),S=function(e){var t=T(e);return"number"==typeof t&&t>=0&&k>=t};_.each=_.forEach=function(e,t,n){t=y(t,n);var i,s;if(S(e))for(i=0,s=e.length;s>i;i++)t(e[i],i,e);else{var r=_.keys(e);for(i=0,s=r.length;s>i;i++)t(e[r[i]],r[i],e)}return e},_.map=_.collect=function(e,t,n){t=b(t,n);for(var i=!S(e)&&_.keys(e),s=(i||e).length,r=Array(s),a=0;s>a;a++){var o=i?i[a]:a;r[a]=t(e[o],o,e)}return r},_.reduce=_.foldl=_.inject=e(1),_.reduceRight=_.foldr=e(-1),_.find=_.detect=function(e,t,n){var i;return i=S(e)?_.findIndex(e,t,n):_.findKey(e,t,n),void 0!==i&&-1!==i?e[i]:void 0},_.filter=_.select=function(e,t,n){var i=[];return t=b(t,n),_.each(e,function(e,n,s){t(e,n,s)&&i.push(e)}),i},_.reject=function(e,t,n){return _.filter(e,_.negate(b(t)),n)},_.every=_.all=function(e,t,n){t=b(t,n);for(var i=!S(e)&&_.keys(e),s=(i||e).length,r=0;s>r;r++){var a=i?i[r]:r;if(!t(e[a],a,e))return!1}return!0},_.some=_.any=function(e,t,n){t=b(t,n);for(var i=!S(e)&&_.keys(e),s=(i||e).length,r=0;s>r;r++){var a=i?i[r]:r;if(t(e[a],a,e))return!0}return!1},_.contains=_.includes=_.include=function(e,t,n,i){return S(e)||(e=_.values(e)),("number"!=typeof n||i)&&(n=0),_.indexOf(e,t,n)>=0},_.invoke=function(e,t){var n=c.call(arguments,2),i=_.isFunction(t);return _.map(e,function(e){var s=i?t:e[t];return null==s?s:s.apply(e,n)})},_.pluck=function(e,t){return _.map(e,_.property(t))},_.where=function(e,t){return _.filter(e,_.matcher(t))},_.findWhere=function(e,t){return _.find(e,_.matcher(t))},_.max=function(e,t,n){var i,s,r=-(1/0),a=-(1/0);if(null==t&&null!=e){e=S(e)?e:_.values(e);for(var o=0,l=e.length;l>o;o++)i=e[o],i>r&&(r=i)}else t=b(t,n),_.each(e,function(e,n,i){s=t(e,n,i),(s>a||s===-(1/0)&&r===-(1/0))&&(r=e,a=s)});return r},_.min=function(e,t,n){var i,s,r=1/0,a=1/0;if(null==t&&null!=e){e=S(e)?e:_.values(e);for(var o=0,l=e.length;l>o;o++)i=e[o],r>i&&(r=i)}else t=b(t,n),_.each(e,function(e,n,i){s=t(e,n,i),(a>s||s===1/0&&r===1/0)&&(r=e,a=s)});return r},_.shuffle=function(e){for(var t,n=S(e)?e:_.values(e),i=n.length,s=Array(i),r=0;i>r;r++)t=_.random(0,r),t!==r&&(s[r]=s[t]),s[t]=n[r];return s},_.sample=function(e,t,n){return null==t||n?(S(e)||(e=_.values(e)),e[_.random(e.length-1)]):_.shuffle(e).slice(0,Math.max(0,t))},_.sortBy=function(e,t,n){return t=b(t,n),_.pluck(_.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var E=function(e){return function(t,n,i){var s={};return n=b(n,i),_.each(t,function(i,r){var a=n(i,r,t);e(s,i,a)}),s}};_.groupBy=E(function(e,t,n){_.has(e,n)?e[n].push(t):e[n]=[t]}),_.indexBy=E(function(e,t,n){e[n]=t}),_.countBy=E(function(e,t,n){_.has(e,n)?e[n]++:e[n]=1}),_.toArray=function(e){return e?_.isArray(e)?c.call(e):S(e)?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:S(e)?e.length:_.keys(e).length},_.partition=function(e,t,n){t=b(t,n);var i=[],s=[];return _.each(e,function(e,n,r){(t(e,n,r)?i:s).push(e)}),[i,s]},_.first=_.head=_.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:_.initial(e,e.length-t)},_.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},_.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:_.rest(e,Math.max(0,e.length-t))},_.rest=_.tail=_.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var A=function(e,t,n,i){for(var s=[],r=0,a=i||0,o=T(e);o>a;a++){var l=e[a];if(S(l)&&(_.isArray(l)||_.isArguments(l))){t||(l=A(l,t,n));var u=0,c=l.length;for(s.length+=c;c>u;)s[r++]=l[u++]}else n||(s[r++]=l)}return s};_.flatten=function(e,t){return A(e,t,!1)},_.without=function(e){return _.difference(e,c.call(arguments,1))},_.uniq=_.unique=function(e,t,n,i){_.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=b(n,i));for(var s=[],r=[],a=0,o=T(e);o>a;a++){var l=e[a],u=n?n(l,a,e):l;t?(a&&r===u||s.push(l),r=u):n?_.contains(r,u)||(r.push(u),s.push(l)):_.contains(s,l)||s.push(l)}return s},_.union=function(){return _.uniq(A(arguments,!0,!0))},_.intersection=function(e){for(var t=[],n=arguments.length,i=0,s=T(e);s>i;i++){var r=e[i];if(!_.contains(t,r)){for(var a=1;n>a&&_.contains(arguments[a],r);a++);a===n&&t.push(r)}}return t},_.difference=function(e){var t=A(arguments,!0,!0,1);return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(e){for(var t=e&&_.max(e,T).length||0,n=Array(t),i=0;t>i;i++)n[i]=_.pluck(e,i);return n},_.object=function(e,t){for(var n={},i=0,s=T(e);s>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},_.findIndex=t(1),_.findLastIndex=t(-1),_.sortedIndex=function(e,t,n,i){n=b(n,i,1);for(var s=n(t),r=0,a=T(e);a>r;){var o=Math.floor((r+a)/2);n(e[o])<s?r=o+1:a=o}return r},_.indexOf=n(1,_.findIndex,_.sortedIndex),_.lastIndexOf=n(-1,_.findLastIndex),_.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),s=Array(i),r=0;i>r;r++,e+=n)s[r]=e;return s};var P=function(e,t,n,i,s){if(!(i instanceof t))return e.apply(n,s);var r=w(e.prototype),a=e.apply(r,s);return _.isObject(a)?a:r};_.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,c.call(arguments,1));if(!_.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return P(e,i,t,this,n.concat(c.call(arguments)))};return i},_.partial=function(e){var t=c.call(arguments,1),n=function(){for(var i=0,s=t.length,r=Array(s),a=0;s>a;a++)r[a]=t[a]===_?arguments[i++]:t[a];for(;i<arguments.length;)r.push(arguments[i++]);return P(e,n,this,this,r)};return n},_.bindAll=function(e){var t,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(t=1;i>t;t++)n=arguments[t],e[n]=_.bind(e[n],e);return e},_.memoize=function(e,t){var n=function(i){var s=n.cache,r=""+(t?t.apply(this,arguments):i);return _.has(s,r)||(s[r]=e.apply(this,arguments)),s[r]};return n.cache={},n},_.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},_.defer=_.partial(_.delay,_,1),_.throttle=function(e,t,n){var i,s,r,a=null,o=0;n||(n={});var l=function(){o=n.leading===!1?0:_.now(),a=null,r=e.apply(i,s),a||(i=s=null)};return function(){var u=_.now();o||n.leading!==!1||(o=u);var c=t-(u-o);return i=this,s=arguments,0>=c||c>t?(a&&(clearTimeout(a),a=null),o=u,r=e.apply(i,s),a||(i=s=null)):a||n.trailing===!1||(a=setTimeout(l,c)),r}},_.debounce=function(e,t,n){var i,s,r,a,o,l=function(){var u=_.now()-a;t>u&&u>=0?i=setTimeout(l,t-u):(i=null,n||(o=e.apply(r,s),i||(r=s=null)))};return function(){r=this,s=arguments,a=_.now();var u=n&&!i;return i||(i=setTimeout(l,t)),u&&(o=e.apply(r,s),r=s=null),o}},_.wrap=function(e,t){return _.partial(t,e)},_.negate=function(e){return function(){return!e.apply(this,arguments)}},_.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},_.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},_.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},_.once=_.partial(_.before,2);var q=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(e){if(!_.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)_.has(e,n)&&t.push(n);return q&&i(e,t),t},_.allKeys=function(e){if(!_.isObject(e))return[];var t=[];for(var n in e)t.push(n);return q&&i(e,t),t},_.values=function(e){for(var t=_.keys(e),n=t.length,i=Array(n),s=0;n>s;s++)i[s]=e[t[s]];return i},_.mapObject=function(e,t,n){t=b(t,n);for(var i,s=_.keys(e),r=s.length,a={},o=0;r>o;o++)i=s[o],a[i]=t(e[i],i,e);return a},_.pairs=function(e){for(var t=_.keys(e),n=t.length,i=Array(n),s=0;n>s;s++)i[s]=[t[s],e[t[s]]];return i},_.invert=function(e){for(var t={},n=_.keys(e),i=0,s=n.length;s>i;i++)t[e[n[i]]]=n[i];return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()},_.extend=x(_.allKeys),_.extendOwn=_.assign=x(_.keys),_.findKey=function(e,t,n){t=b(t,n);for(var i,s=_.keys(e),r=0,a=s.length;a>r;r++)if(i=s[r],t(e[i],i,e))return i},_.pick=function(e,t,n){var i,s,r={},a=e;if(null==a)return r;_.isFunction(t)?(s=_.allKeys(a),i=y(t,n)):(s=A(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var o=0,l=s.length;l>o;o++){var u=s[o],c=a[u];i(c,u,a)&&(r[u]=c)}return r},_.omit=function(e,t,n){if(_.isFunction(t))t=_.negate(t);else{var i=_.map(A(arguments,!1,!1,1),String);t=function(e,t){return!_.contains(i,t)}}return _.pick(e,t,n)},_.defaults=x(_.allKeys,!0),_.create=function(e,t){var n=w(e);return t&&_.extendOwn(n,t),n},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e},_.isMatch=function(e,t){var n=_.keys(t),i=n.length;if(null==e)return!i;for(var s=Object(e),r=0;i>r;r++){var a=n[r];if(t[a]!==s[a]||!(a in s))return!1}return!0};var N=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var s=h.call(e);if(s!==h.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var r="[object Array]"===s;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,o=t.constructor;if(a!==o&&!(_.isFunction(a)&&a instanceof a&&_.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1;
}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),r){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!N(e[l],t[l],n,i))return!1}else{var u,c=_.keys(e);if(l=c.length,_.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!_.has(t,u)||!N(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0};_.isEqual=function(e,t){return N(e,t)},_.isEmpty=function(e){return null==e?!0:S(e)&&(_.isArray(e)||_.isString(e)||_.isArguments(e))?0===e.length:0===_.keys(e).length},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=p||function(e){return"[object Array]"===h.call(e)},_.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){_["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return _.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(e){return"function"==typeof e||!1}),_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!==+e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return null!=e&&d.call(e,t)},_.noConflict=function(){return s._=r,this},_.identity=function(e){return e},_.constant=function(e){return function(){return e}},_.noop=function(){},_.property=C,_.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},_.matcher=_.matches=function(e){return e=_.extendOwn({},e),function(t){return _.isMatch(t,e)}},_.times=function(e,t,n){var i=Array(Math.max(0,e));t=y(t,n,1);for(var s=0;e>s;s++)i[s]=t(s);return i},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},_.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=_.invert(j),L=function(e){var t=function(t){return e[t]},n="(?:"+_.keys(e).join("|")+")",i=RegExp(n),s=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(s,t):e}};_.escape=L(j),_.unescape=L(B),_.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),_.isFunction(i)?i.call(e):i};var M=0;_.uniqueId=function(e){var t=++M+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\u2028|\u2029/g,R=function(e){return"\\"+O[e]};_.template=function(e,t,n){!t&&n&&(t=n),t=_.defaults({},t,_.templateSettings);var i=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g"),s=0,r="__p+='";e.replace(i,function(t,n,i,a,o){return r+=e.slice(s,o).replace(I,R),s=o+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var a=new Function(t.variable||"obj","_",r)}catch(e){throw e.source=r,e}var o=function(e){return a.call(this,e,_)},l=t.variable||"obj";return o.source="function("+l+"){\n"+r+"}",o},_.chain=function(e){var t=_(e);return t._chain=!0,t};var z=function(e,t){return e._chain?_(t).chain():t};_.mixin=function(e){_.each(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),z(this,n.apply(_,e))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],z(this,n)}}),_.each(["concat","join","slice"],function(e){var t=a[e];_.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}.call(this);var osc=osc||{};!function(){"use strict";var e;osc.SECS_70YRS=2208988800,osc.TWO_32=4294967296,osc.defaults={metadata:!1,unpackSingleArgs:!0},osc.isBufferEnv="undefined"!=typeof Buffer,osc.isArray=function(e){return e&&"[object Array]"===Object.prototype.toString.call(e)},osc.isTypedArrayView=function(e){return e.buffer&&e.buffer instanceof ArrayBuffer},osc.isBuffer=function(e){return osc.isBufferEnv&&e instanceof Buffer},osc.dataView=function(t){return t instanceof DataView?t:"undefined"!=typeof e&&t instanceof e?t:osc.isBufferEnv&&t instanceof Buffer?new e(t):t.buffer?new DataView(t.buffer):t instanceof ArrayBuffer?new DataView(t):new DataView(new Uint8Array(t))},osc.byteArray=function(e){if(e instanceof Uint8Array)return e;var t=e.buffer?e.buffer:e;if("undefined"==typeof e.length||"string"==typeof e)throw new Error("Can't wrap a non-array-like object as Uint8Array. Object was: "+JSON.stringify(e,null,2));return new Uint8Array(t)},osc.makeByteArray=function(e){return osc.isBufferEnv?new Buffer(e):new Uint8Array(e)},osc.copyByteArray=function(e,t,n){if(osc.isTypedArrayView(e)&&osc.isTypedArrayView(t))t.set(e,n);else if(osc.isBuffer(e)&&osc.isBuffer(t))e.copy(t,n);else for(var i=void 0===n?0:n,s=Math.min(t.length-n,e.length),r=0,a=i;s>r;r++,a++)t[a]=e[r];return t},osc.readString=function(e,t){for(var n=[],i=t.idx;i<e.byteLength;i++){var s=e.getUint8(i);if(0===s){i++;break}n.push(s)}return i=i+3&-4,t.idx=i,String.fromCharCode.apply(null,n)},osc.writeString=function(e){for(var t=e+"\x00",n=t.length,i=n+3&-4,s=new Uint8Array(i),r=0;r<t.length;r++){var a=t.charCodeAt(r);s[r]=a}return s},osc.readPrimitive=function(e,t,n,i){var s=e[t](i.idx,!1);return i.idx+=n,s},osc.writePrimitive=function(e,t,n,i,s){s=void 0===s?0:s;var r;return t?r=new Uint8Array(t.buffer):(r=new Uint8Array(i),t=new DataView(r.buffer)),t[n](s,e,!1),r},osc.readInt32=function(e,t){return osc.readPrimitive(e,"getInt32",4,t)},osc.writeInt32=function(e,t,n){return osc.writePrimitive(e,t,"setInt32",4,n)},osc.readFloat32=function(e,t){return osc.readPrimitive(e,"getFloat32",4,t)},osc.writeFloat32=function(e,t,n){return osc.writePrimitive(e,t,"setFloat32",4,n)},osc.readFloat64=function(e,t){return osc.readPrimitive(e,"getFloat64",8,t)},osc.writeFloat64=function(e,t,n){return osc.writePrimitive(e,t,"setFloat64",8,n)},osc.readChar32=function(e,t){var n=osc.readPrimitive(e,"getUint32",4,t);return String.fromCharCode(n)},osc.writeChar32=function(e,t,n){var i=e.charCodeAt(0);return void 0===i||-1>i?void 0:osc.writePrimitive(i,t,"setUint32",4,n)},osc.readBlob=function(e,t){var n=osc.readInt32(e,t),i=n+3&-4,s=new Uint8Array(e.buffer,t.idx,n);return t.idx+=i,s},osc.writeBlob=function(e){e=osc.byteArray(e);var t=e.byteLength,n=t+3&-4,i=4,s=n+i,r=new Uint8Array(s),a=new DataView(r.buffer);return osc.writeInt32(t,a),r.set(e,i),r},osc.readMIDIBytes=function(e,t){var n=new Uint8Array(e.buffer,t.idx,4);return t.idx+=4,n},osc.writeMIDIBytes=function(e){e=osc.byteArray(e);var t=new Uint8Array(4);return t.set(e),t},osc.readColor=function(e,t){var n=new Uint8Array(e.buffer,t.idx,4),i=n[3]/255;return t.idx+=4,{r:n[0],g:n[1],b:n[2],a:i}},osc.writeColor=function(e){var t=Math.round(255*e.a),n=new Uint8Array([e.r,e.g,e.b,t]);return n},osc.readTrue=function(){return!0},osc.readFalse=function(){return!1},osc.readNull=function(){return null},osc.readImpulse=function(){return 1},osc.readTimeTag=function(e,t){var n=osc.readPrimitive(e,"getUint32",4,t),i=osc.readPrimitive(e,"getUint32",4,t),s=0===n&&1===i?Date.now():osc.ntpToJSTime(n,i);return{raw:[n,i],native:s}},osc.writeTimeTag=function(e){var t=e.raw?e.raw:osc.jsToNTPTime(e.native),n=new Uint8Array(8),i=new DataView(n.buffer);return osc.writeInt32(t[0],i,0),osc.writeInt32(t[1],i,4),n},osc.timeTag=function(e){e=e||0;var t=Date.now()/1e3,n=Math.floor(t),i=t-n,s=Math.floor(e),r=e-s,a=i+r;if(a>1){var o=Math.floor(a),l=a-o;s+=o,a=l}var u=n+s+osc.SECS_70YRS,c=Math.round(osc.TWO_32*a);return{raw:[u,c]}},osc.ntpToJSTime=function(e,t){var n=e-osc.SECS_70YRS,i=t/osc.TWO_32,s=1e3*(n+i);return s},osc.jsToNTPTime=function(e){var t=e/1e3,n=Math.floor(t),i=t-n,s=n+osc.SECS_70YRS,r=Math.round(osc.TWO_32*i);return[s,r]},osc.readArguments=function(e,t,n){var i=osc.readString(e,n);if(0!==i.indexOf(","))throw new Error("A malformed type tag string was found while reading the arguments of an OSC message. String was: "+i," at offset: "+n.idx);var s=i.substring(1).split(""),r=[];return osc.readArgumentsIntoArray(r,s,i,e,t,n),r},osc.readArgument=function(e,t,n,i,s){var r=osc.argumentTypes[e];if(!r)throw new Error("'"+e+"' is not a valid OSC type tag. Type tag string was: "+t);var a=r.reader,o=osc[a](n,s);return i.metadata&&(o={type:e,value:o}),o},osc.readArgumentsIntoArray=function(e,t,n,i,s,r){for(var a=0;a<t.length;){var o,l=t[a];if("["===l){var u=t.slice(a+1),c=u.indexOf("]");if(0>c)throw new Error("Invalid argument type tag: an open array type tag ('[') was found without a matching close array tag ('[]'). Type tag was: "+n);var h=u.slice(0,c);o=osc.readArgumentsIntoArray([],h,n,i,s,r),a+=c+2}else o=osc.readArgument(l,n,i,s,r),a++;e.push(o)}return e},osc.writeArguments=function(e,t){var n=osc.collectArguments(e,t);return osc.joinParts(n)},osc.joinParts=function(e){for(var t=osc.makeByteArray(e.byteLength),n=e.parts,i=0,s=0;s<n.length;s++){var r=n[s];osc.copyByteArray(r,t,i),i+=r.length}return t},osc.addDataPart=function(e,t){t.parts.push(e),t.byteLength+=e.length},osc.collectArguments=function(e,t,n){osc.isArray(e)||(e=[e]),n=n||{byteLength:0,parts:[]},t.metadata||(e=osc.annotateArguments(e));for(var i=",",s=n.parts.length,r=0;r<e.length;r++){var a=e[r],o=a.type,l=osc.argumentTypes[o].writer;if(i+=a.type,l){var u=osc[l](a.value);osc.addDataPart(u,n)}}var c=osc.writeString(i);return n.byteLength+=c.byteLength,n.parts.splice(s,0,c),n},osc.readMessage=function(e,t,n){t=t||osc.defaults;var i=osc.dataView(e);n=n||{idx:0};var s=osc.readString(i,n);return osc.readMessageContents(s,i,t,n)},osc.readMessageContents=function(e,t,n,i){if(0!==e.indexOf("/"))throw new Error("A malformed OSC address was found while reading an OSC message. String was: "+e);var s=osc.readArguments(t,n,i);return{address:e,args:1===s.length&&n.unpackSingleArgs?s[0]:s}},osc.collectMessageParts=function(e,t,n){return n=n||{byteLength:0,parts:[]},osc.addDataPart(osc.writeString(e.address),n),osc.collectArguments(e.args,t,n)},osc.writeMessage=function(e,t){t=t||osc.defaults;var n=osc.collectMessageParts(e,t);return osc.joinParts(n)},osc.readBundle=function(e,t,n){return osc.readPacket(e,t,n)},osc.collectBundlePackets=function(e,t,n){n=n||{byteLength:0,parts:[]},osc.addDataPart(osc.writeString("#bundle"),n),osc.addDataPart(osc.writeTimeTag(e.timeTag),n);for(var i=0;i<e.packets.length;i++){var s=e.packets[i],r=s.address?osc.collectMessageParts:osc.collectBundlePackets,a=r(s,t);n.byteLength+=a.byteLength,osc.addDataPart(osc.writeInt32(a.byteLength),n),n.parts=n.parts.concat(a.parts)}return n},osc.writeBundle=function(e,t){if(e.timeTag&&e.packets){t=t||osc.defaults;var n=osc.collectBundlePackets(e,t);return osc.joinParts(n)}},osc.readBundleContents=function(e,t,n,i){for(var s=osc.readTimeTag(e,n),r=[];n.idx<i;){var a=osc.readInt32(e,n),o=n.idx+a,l=osc.readPacket(e,t,n,o);r.push(l)}return{timeTag:s,packets:r}},osc.readPacket=function(e,t,n,i){var s=osc.dataView(e);i=void 0===i?s.byteLength:i,n=n||{idx:0};var r=osc.readString(s,n),a=r[0];if("#"===a)return osc.readBundleContents(s,t,n,i);if("/"===a)return osc.readMessageContents(r,s,t,n);throw new Error("The header of an OSC packet didn't contain an OSC address or a #bundle string. Header was: "+r)},osc.writePacket=function(e,t){var n=e.address?osc.writeMessage:osc.writeBundle;return n(e,t)},osc.argumentTypes={i:{reader:"readInt32",writer:"writeInt32"},f:{reader:"readFloat32",writer:"writeFloat32"},s:{reader:"readString",writer:"writeString"},S:{reader:"readString",writer:"writeString"},b:{reader:"readBlob",writer:"writeBlob"},t:{reader:"readTimeTag",writer:"writeTimeTag"},T:{reader:"readTrue"},F:{reader:"readFalse"},N:{reader:"readNull"},I:{reader:"readImpulse"},d:{reader:"readFloat64",writer:"writeFloat64"},c:{reader:"readChar32",writer:"writeChar32"},r:{reader:"readColor",writer:"writeColor"},m:{reader:"readMIDIBytes",writer:"writeMIDIBytes"}},osc.inferTypeForArgument=function(e){var t=typeof e;switch(t){case"boolean":return e?"T":"F";case"string":return"s";case"number":return"f";case"undefined":return"N";case"object":if(null===e)return"N";if(e instanceof Uint8Array||e instanceof ArrayBuffer||osc.isBufferEnv&&e instanceof Buffer)return"b"}throw new Error("Can't infer OSC argument type for value: "+JSON.stringify(e,null,2))},osc.annotateArguments=function(e){osc.isArray(e)||(e=[e]);for(var t=[],n=0;n<e.length;n++){var i,s=e[n];if("object"==typeof s&&s.type&&void 0!==s.value)i=s;else{var r=osc.inferTypeForArgument(s);i={type:r,value:s}}t.push(i)}return t},"undefined"!=typeof module&&module.exports&&(osc.isBufferEnv&&(e=require("buffer-dataview")),module.exports=osc)}(),function(e,t){"use strict";"object"==typeof exports?(e.slip=exports,t(exports)):"function"==typeof define&&define.amd?define(["exports"],function(n){return e.slip=n,e.slip,t(n)}):(e.slip={},t(e.slip))}(this,function(e){"use strict";var t=e;t.END=192,t.ESC=219,t.ESC_END=220,t.ESC_ESC=221,t.byteArray=function(e,t,n){return e instanceof ArrayBuffer?new Uint8Array(e,t,n):e},t.expandByteArray=function(e){var t=new Uint8Array(2*e.length);return t.set(e),t},t.sliceByteArray=function(e,t,n){var i=e.buffer.slice?e.buffer.slice(t,n):e.subarray(t,n);return new Uint8Array(i)},t.encode=function(e,n){n=n||{},n.bufferPadding=n.bufferPadding||4,e=t.byteArray(e,n.offset,n.byteLength);var i=e.length+n.bufferPadding+3&-4,s=new Uint8Array(i),r=1;s[0]=t.END;for(var a=0;a<e.length;a++){r>s.length-3&&(s=t.expandByteArray(s));var o=e[a];o===t.END?(s[r++]=t.ESC,o=t.ESC_END):o===t.ESC&&(s[r++]=t.ESC,o=t.ESC_ESC),s[r++]=o}return s[r]=t.END,t.sliceByteArray(s,0,r+1)},t.Decoder=function(e){e="function"!=typeof e?e||{}:{onMessage:e},this.maxMessageSize=e.maxMessageSize||10485760,this.bufferSize=e.bufferSize||1024,this.msgBuffer=new Uint8Array(this.bufferSize),this.msgBufferIdx=0,this.onMessage=e.onMessage,this.onError=e.onError,this.escape=!1};var n=t.Decoder.prototype;return n.decode=function(e){e=t.byteArray(e);for(var n,i=0;i<e.length;i++){var s=e[i];if(this.escape)s===t.ESC_ESC?s=t.ESC:s===t.ESC_END&&(s=t.END);else{if(s===t.ESC){this.escape=!0;continue}if(s===t.END){n=this.handleEnd();continue}}var r=this.addByte(s);r||this.handleMessageMaxError()}return n},n.handleMessageMaxError=function(){this.onError&&this.onError(this.msgBuffer.subarray(0),"The message is too large; the maximum message size is "+this.maxMessageSize/1024+"KB. Use a larger maxMessageSize if necessary."),this.msgBufferIdx=0,this.escape=!1},n.addByte=function(e){return this.msgBufferIdx>this.msgBuffer.length-1&&(this.msgBuffer=t.expandByteArray(this.msgBuffer)),this.msgBuffer[this.msgBufferIdx++]=e,this.escape=!1,this.msgBuffer.length<this.maxMessageSize},n.handleEnd=function(){if(0!==this.msgBufferIdx){var e=t.sliceByteArray(this.msgBuffer,0,this.msgBufferIdx);return this.onMessage&&this.onMessage(e),this.msgBufferIdx=0,e}},t}),function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,s=this,r=s.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,s=this.getListenersAsObject(e),r="object"==typeof n;for(i in s)s.hasOwnProperty(i)&&-1===t(s[i],n)&&s[i].push(r?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,s,r=this.getListenersAsObject(e);for(s in r)r.hasOwnProperty(s)&&(i=t(r[s],n),-1!==i&&r[s].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,s,r=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(s=t[i])&&("function"==typeof s?r.call(this,i,s):a.call(this,i,s));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,s,r,a=this.getListenersAsObject(e);for(s in a)if(a.hasOwnProperty(s))for(i=a[s].length;i--;)n=a[s][i],n.once===!0&&this.removeListener(e,n.listener),r=n.listener.apply(this,t||[]),r===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return s.EventEmitter=r,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:s.EventEmitter=e}.call(this);var osc=osc||require("./osc.js"),slip=slip||require("slip"),EventEmitter=EventEmitter||require("events").EventEmitter;!function(){"use strict";osc.firePacketEvents=function(e,t,n){t.address?e.emit("message",t,n):osc.fireBundleEvents(e,t,n)},osc.fireBundleEvents=function(e,t,n){e.emit("bundle",t,n);for(var i=0;i<t.packets.length;i++){var s=t.packets[i];osc.firePacketEvents(e,s,t.timeTag)}},osc.Port=function(e){this.options=e||{},this.on("data",this.decodeOSC.bind(this))};var e=osc.Port.prototype=Object.create(EventEmitter.prototype);e.constructor=osc.Port,e.send=function(e){var t=Array.prototype.slice.call(arguments),n=this.encodeOSC(e);t[0]=n,this.sendRaw.apply(this,t)},e.encodeOSC=function(e){e=e.buffer?e.buffer:e;var t=osc.writePacket(e,this.options);return t},e.decodeOSC=function(e){this.emit("raw",e);var t=osc.readPacket(e,this.options);this.emit("osc",t),osc.firePacketEvents(this,t)},osc.SLIPPort=function(e){var t=this,n=this.options=e||{};n.useSLIP=void 0===n.useSLIP?!0:n.useSLIP,this.decoder=new slip.Decoder({onMessage:this.decodeOSC.bind(this),onError:function(e){t.emit("error",e)}});var i=n.useSLIP?this.decodeSLIPData:this.decodeOSC;this.on("data",i.bind(this))},e=osc.SLIPPort.prototype=Object.create(osc.Port.prototype),e.constructor=osc.SLIPPort,e.encodeOSC=function(e){e=e.buffer?e.buffer:e;var t=osc.writePacket(e,this.options);return slip.encode(t)},e.decodeSLIPData=function(e){this.decoder.decode(e)},osc.relay=function(e,t,n,i,s,r){n=n||"message",i=i||"send",s=s||function(){},r=r?[null].concat(r):[];var a=function(e){r[0]=e,e=s(e),t[i].apply(t,r)};return e.on(n,a),{eventName:n,listener:a}},osc.relayPorts=function(e,t,n){var i=n.raw?"raw":"osc",s=n.raw?"sendRaw":"send";return osc.relay(e,t,i,s,n.transform)},osc.stopRelaying=function(e,t){e.removeListener(t.eventName,t.listener)},osc.Relay=function(e,t,n){var i=this.options=n||{};i.raw=!1,this.port1=e,this.port2=t,this.listen()},e=osc.Relay.prototype=Object.create(EventEmitter.prototype),e.constructor=osc.Relay,e.open=function(){this.port1.open(),this.port2.open()},e.listen=function(){this.port1Spec&&this.port2Spec&&this.close(),this.port1Spec=osc.relayPorts(this.port1,this.port2,this.options),this.port2Spec=osc.relayPorts(this.port2,this.port1,this.options);var e=this.close.bind(this);this.port1.on("close",e),this.port2.on("close",e)},e.close=function(){osc.stopRelaying(this.port1,this.port1Spec),osc.stopRelaying(this.port2,this.port2Spec),this.emit("close",this.port1,this.port2)},"undefined"!=typeof module&&module.exports&&(module.exports=osc)}();var osc=osc;!function(){"use strict";osc.WebSocketPort=function(e){osc.Port.call(this,e),this.on("open",this.listen.bind(this))};var e=osc.WebSocketPort.prototype=Object.create(osc.Port.prototype);e.constructor=osc.WebSocketPort,e.open=function(){this.socket=new WebSocket(this.options.url),this.socket.binaryType="arraybuffer";var e=this;this.socket.onopen=function(){e.emit("open",e.socket)}},e.listen=function(){var e=this;this.socket.onmessage=function(t){e.emit("data",t.data)},this.socket.onerror=function(t){e.emit("error",t)},this.socket.onclose=function(t){e.emit("close",t)},e.emit("ready")},e.sendRaw=function(e){this.socket&&this.socket.send(e.buffer)},e.close=function(e,t){this.socket.close(e,t)}}(),function(e){Math.cbrt=Math.cbrt||function(e){var t=Math.pow(Math.abs(e),1/3);return 0>e?-t:t},window.Utils||(window.Utils={});var t=window.Utils;t.faderTaper={nToDb:function(e){return 0===e?Number.NEGATIVE_INFINITY:144*(1-.11*(1-e)/(1-e+.11-Math.pow(1-e,2)))-132},dbToN:function(e){return 12===e?1:.5*(e-27.84)/(e-12)+.12*Math.sqrt(25*Math.pow(e,2)-50*e+1356)/(e-12)}},t.extend=function(e,t){var n=function(){};return n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Super=e,t},e.deepExtend=function(t){var n,i,s=[],r=e.isArray(t)?"array":"object"==typeof t&&t?"object":null,a=arguments;if(!r)throw new Error("Invalid argument for _.deepExtend, only plain objects and arrays are supported");for(i=a.length-1;i>0;i--)if(n=a[i]){if("array"===r?!e.isArray(n):"object"!=typeof n||!n)throw new Error("Mismatching argument type for _.deepExtend, expected an "+r+", but argument #"+i+" is a(n) "+typeof n);e.each(n,function(n,i){-1===s.indexOf(i)&&(e.has(t,i)&&(e.isArray(t[i])||"object"==typeof t[i]&&t[i])?t[i]=e.deepExtend.apply(this,e.map(a,function(e){return e[i]})):"undefined"!=typeof n&&(t[i]=n),s.push(i))},this)}return t}}(_),function(e){var t=window.Contrall||(window.Contrall={}),n=t.DataStore=function(t){this._={options:e.defaults(t||{},n.defaults),data:{},incoming:{},pending:!1,listeners:[]},this._dispatchUpdate=this._dispatchUpdate.bind(this)};n.defaults={trackBankSize:8,trackInsertCount:4,trackSendCount:8,trackReceiveCount:8,fxParamBankSize:24},e.extend(n.prototype,{addListener:function(e){return this._.listeners.push(e),this},getData:function(){return this._.data},handleMessage:function(e,t){this._processMessage(this._.incoming,e,t),this._.pending||(this._.pending=!0,window.requestAnimationFrame(this._dispatchUpdate))},handleLocalMessage:function(e,t){this._processMessage(this._.data,e,t)},_processMessage:function(e,t,n){var i=t.replace(/^\//,"").split(/\//g);switch(i[0]){case"track":if(!i[1]||!i[1].match(/^\d+$/))break;switch(i[1]=parseInt(i[1])-1,e.tracks||(e.tracks=new Array(this._.options.trackBankSize)),e.tracks[i[1]]||(e.tracks[i[1]]={}),i[2]){case"number":if("str"!==i[3])break;case"name":e.tracks[i[1]][i[2]]=n[0];break;case"pan":"str"===i[3]||(i[3]="db");case"volume":switch(e.tracks[i[1]][i[2]]||(e.tracks[i[1]][i[2]]={}),i[3]){case"str":e.tracks[i[1]][i[2]].description=n[0];break;case"db":e.tracks[i[1]][i[2]].value=n[0]}break;case"recarm":i[2]="arm";case"solo":case"mute":e.tracks[i[1]][i[2]]=!!n[0];break;case"vu":i[3]="L"===i[3]?0:1,e.tracks[i[1]].vu||(e.tracks[i[1]].vu=new Array(2)),e.tracks[i[1]].vu[i[3]]=n[0];break;case"fx":switch(i[3]=parseInt(i[3])-1,e.tracks[i[1]].inserts||(e.tracks[i[1]].inserts=new Array(this._.options.trackInsertCount)),e.tracks[i[1]].inserts[i[3]]||(e.tracks[i[1]].inserts[i[3]]={}),i[4]){case"name":e.tracks[i[1]].inserts[i[3]].name=n[0];break;case"bypass":e.tracks[i[1]].inserts[i[3]].bypassed=!n[0]}break;case"send":case"recv":switch(i[2]="send"===i[2]?"sends":"receives",i[3]=parseInt(i[3])-1,e.tracks[i[1]][i[2]]||(e.tracks[i[1]][i[2]]=[]),e.tracks[i[1]][i[2]][i[3]]||(e.tracks[i[1]][i[2]][i[3]]={}),i[4]){case"name":e.tracks[i[1]][i[2]][i[3]].name=n[0];break;case"volume":case"pan":i[5]="str"===i[5]?"description":"value",e.tracks[i[1]][i[2]][i[3]][i[4]]||(e.tracks[i[1]][i[2]][i[3]][i[4]]={}),e.tracks[i[1]][i[2]][i[3]][i[4]][i[5]]=n[0];break;case"mute":e.tracks[i[1]][i[2]][i[3]].mute=!!n[0]}}break;case"fxparam":if(!i[1]||!i[1].match(/^\d+$/))break;switch(i[1]=parseInt(i[1])-1,e.fxParams||(e.fxParams=[]),e.fxParams[i[1]]||(e.fxParams[i[1]]={}),i[2]){case"name":e.fxParams[i[1]].name=n[0];break;case"value":i[3]="str"===i[3]?"description":"value",e.fxParams[i[1]][i[3]]=n[0]}}},_dispatchUpdate:function(){e.deepExtend(this._.data,this._.incoming),e.each(this._.listeners,function(e){e.call(null,this._.incoming)}.bind(this)),this._.incoming={},this._.pending=!1}})}(_),function(e,t,n){"use strict";var i=window.Contrall||(window.Contrall={}),s=i.Controls||(i.Controls={}),r=s.Fader=function(t){this._={options:n.defaults(t||{},r.defaults),elms:{holder:e("<div></div>"),label:e("<span></span>"),track:e("<div></div>"),handle:e("<span></span>")},value:0,label:null,labelTmr:null,sizeProp:null,posProp:null,touchValueProp:null,touchScaleProp:null,transformDirection:1,size:null},this._.value=this._.options.zeroPos,this.setLabel(""),this._.options.horizontal?(this._.sizeProp="width",this._.posProp="translateX",this._.touchValueProp="pageX",this._.touchScaleProp="pageY"):(this._.sizeProp="height",this._.posProp="translateY",this._.touchValueProp="pageY",this._.touchScaleProp="pageX",this._.transformDirection=-1),this._.elms.holder.addClass("fader"),this._.elms.label.addClass("fader-label"),this._.elms.handle.addClass("fader-handle"),this._.elms.track.addClass("fader-track"),this._.elms.holder.append(this._.elms.label,this._.elms.track),this._.elms.track.append(this._.elms.handle),this._.options.horizontal?this._.elms.holder.addClass("fader-horizontal"):this._.elms.holder.addClass("fader-vertical"),this._.elms.handle.on("touchstart",this._handleTouch.bind(this))};r.defaults={horizontal:!1,zeroPos:.75,zeroSnap:!0,snapThreshold:.04,scale:!0,scaleThreshold:120,scaleAmount:.3,filterIn:null,filterOut:null,onChange:n.noop,onTouch:n.noop,applyLabel:function(e,t){e.text(t)}},n.extend(r.prototype,{attach:function(e){return this._.elms.holder.appendTo(e),this},reposition:function(){this._.size=this._.elms.track[this._.sizeProp](),this.setRawValue(this.getRawValue(),!0)},setValue:function(e){return this.setRawValue(this._.options.filterIn?this._.options.filterIn(e):e)},getValue:function(){var e=this.getRawValue();return this._.options.filterOut?this._.options.filterOut(e):e},setRawValue:function(e,t){return e=Math.max(0,Math.min(1,e)),(this._.value!==e||t)&&(this._.value=e,e=this._.transformDirection*this._.value*this._.size,this._.elms.handle.css("transform",this._.posProp+"("+e.toFixed(3)+"px) translateZ(0)")),this},getRawValue:function(){return this._.value},setLabel:function(e){return this._.label!==e&&(this._.label=e,this._.options.applyLabel.call(this,this._.elms.label,e)),this},_handleTouch:function(e){e.preventDefault();var i,s=n.find(e.originalEvent.touches,function(e){return this._.elms.handle.is(e.target)},this),r=s[this._.touchScaleProp],a=!1,o=null;if(s){i=this._.options.horizontal?function(e){return function(t){return t-e}}(this._.elms.track.offset().left):function(e){return function(t){return e-t}}(this._.elms.track.offset().top+this._.elms.track.height()),this._.elms.holder.addClass("fader-dragging"),this._.options.onTouch(!0);var l=function(e){e.preventDefault();var t,l=n.find(e.originalEvent.touches,function(e){return e.identifier===s.identifier});l||u(),this._.options.scale&&(Math.abs(l[this._.touchScaleProp]-r)>=this._.options.scaleThreshold?a||(a=!0,o=this._.value):a&&(a=!1)),t=i(l[this._.touchValueProp])/this._.size,a?t=(t-o)*this._.options.scaleAmount+o:this._.options.zeroSnap&&Math.abs(this._.options.zeroPos-t)<=this._.options.snapThreshold&&(t=this._.options.zeroPos),this.setRawValue(t),this._.options.onChange(this.getValue())}.bind(this),u=function(e){(!e||n.find(e.originalEvent.changedTouches,function(e){return e.identifier===s.identifier}))&&(t.off("touchmove",l),t.off("touchend",u),this._.elms.holder.removeClass("fader-dragging"),this._.options.onTouch(!1))}.bind(this);t.on("touchmove",l),t.on("touchend",u)}}})}(jQuery,jQuery(document),_),function(e,t,n){"use strict";var i=window.Contrall||(window.Contrall={}),s=i.Controls||(i.Controls={}),r=s.VU=function(t){this._={options:n.defaults(t||{},r.defaults),elms:{holder:e("<div></div>"),channels:[],peaks:[],segments:[],labels:[]},pending:!1,values:[],peaks:[],peakResetTimeouts:[],peakResetCallbacks:[],segmentSize:0},this._.elms.holder.addClass("vu"),this._.options.horizontal?this._.elms.holder.addClass("vu-horizontal"):this._.elms.holder.addClass("vu-vertical"),this._createChannels(),this._.elms.holder.on("click",this._handleClick.bind(this))};r.defaults={horizontal:!1,peakHold:5e3,channels:2,labels:!0,labelSpacing:6,labelRange:64},n.extend(r.prototype,{attach:function(e){return this._.elms.holder.appendTo(e),this},reposition:function(){if(this._.options.horizontal?this._.segmentSize=this._.elms.channels[0].width()-this._.elms.peaks[0].outerHeight(!0):this._.segmentSize=this._.elms.channels[0].height()-this._.elms.peaks[0].outerHeight(!0),!this._.options.labels)return this;this._.elms.holder.children(".vu-label").remove();var t,n,i,s,r=Math.floor(this._.options.labelRange/this._.options.labelSpacing),a=0;for(this._.options.horizontal?(i=this._.elms.holder.offset().left+this._.elms.holder().outerWidth()-this._.elms.channels[0].offset().left-this._.elms.channels[0].width()-this._.elms.peaks[0].outerWidth(!0),s="right"):(i=this._.elms.channels[0].offset().top-this._.elms.holder.offset().top+this._.elms.peaks[0].outerHeight(!0),s="top"),t=0;r>t;t++,a+=this._.options.labelSpacing)n=e("<span></span>"),n.addClass("vu-label"),n.append(e("<span></span>").text(a)),n.css(s,i+a/this._.options.labelRange*this._.segmentSize),this._.elms.holder.append(n);return this},setValues:function(e){for(var t=0;t<e.length;t++)"undefined"!=typeof e[t]&&this.setValue(t,e[t]);return this._.pending=!0,this},setValue:function(e,t){if(this._.values[e]!==t){this._.values[e]=t;var n,i,s=this._.options.horizontal?"scaleX":"scaleY";n=Math.min(t/.9,1),i=t>=.9,i&&(this._.peaks[e]||(this._.elms.peaks[e].css("opacity",1),this._.peaks[e]=!0),this._.peakResetTimeouts[e]&&window.clearTimeout(this._.peakResetTimeouts[e]),this._.peakResetTimeouts[e]=window.setTimeout(this._.peakResetCallbacks[e],this._.options.peakHold)),this._.elms.segments[e].css("transform",s+"("+n.toFixed(3)+") translateZ(0)")}return this},_createChannels:function(){var t,n,i;for(t=0;t<this._.options.channels;t++)n=e("<div></div>"),n.addClass("vu-channel"),this._.elms.holder.append(n),this._.elms.channels.push(n),i=e("<span></span>"),i.addClass("vu-peak"),n.append(i),this._.elms.peaks.push(i),i=e("<span></span>"),i.addClass("vu-segment"),n.append(i),this._.elms.segments.push(i),this._.values.push(0),this._.peaks.push(!1),this._.peakResetTimeouts.push(null),this._.peakResetCallbacks.push(this._getPeakReset(t))},_getPeakReset:function(e){return function(){this._resetPeak(e)}.bind(this)},_resetPeak:function(e){this._.elms.peaks[e].css("opacity",0),this._.peaks[e]=!1,
this._.peakResetTimeouts[e]&&window.clearTimeout(this._.peakResetTimeouts[e]),this._.peakResetTimeouts[e]=null},_resetAllPeaks:function(){for(var e=0;e<this._.options.channels;e++)this._.peakResetCallbacks[e]()},_handleClick:function(e){e.preventDefault(),this._resetAllPeaks()}})}(jQuery,jQuery(document),_),function(e,t,n){"use strict";var i=window.Contrall||(window.Contrall={}),s=i.Controls||(i.Controls={}),r=s.Knob=function(t){this._={options:n.defaults(t||{},r.defaults),elms:{holder:e("<div></div>"),label:e("<span></span>"),value:e("<span></span>"),track:e("<span></span>"),button:e("<span></span>"),arrow:e("<span></span>")},name:"",value:null,description:""},this._.value=this._.options.zeroPos,this._.elms.holder.addClass("knob"),this._.elms.label.addClass("knob-label"),this._.elms.value.addClass("knob-value"),this._.elms.track.addClass("knob-track"),this._.elms.button.addClass("knob-button"),this._.elms.arrow.addClass("knob-arrow"),this._.elms.holder.append(this._.elms.track,this._.elms.label,this._.elms.value),this._.elms.track.append(this._.elms.button,this._.elms.arrow),this._.elms.track.on("touchstart",this._handleTouch.bind(this))};r.defaults={zeroPos:0,zeroSnap:!0,snapThreshold:.04,scale:!0,scaleThreshold:120,scaleAmount:.2,trackSize:240,onChange:n.noop,onTouch:n.noop},n.extend(r.prototype,{attach:function(e){return this._.elms.holder.appendTo(e),this},reposition:function(){},setValue:function(e){return this._.value!==e&&(this._.value=e,e=270*(null===this._.value?0:this._.value)-45,this._.elms.arrow.css("transform","rotate("+e.toFixed(3)+"deg) translateZ(0)")),this},getValue:function(){return this._.value},setDescription:function(e){return this._.description!==e&&(this._.description=e,this._.elms.value.text(this._.description)),this},getDescription:function(){return this._.description},setName:function(e){return this._.name!==e&&(this._.name=e,this._.elms.label.text(this._.name)),this},_handleTouch:function(i){i.preventDefault();var s=n.find(i.originalEvent.touches,function(t){return this._.elms.track.is(t.target)||e.contains(this._.elms.track[0],t.target)},this);if(s){var r=s.pageX,a=!1,o=null,l=this._.value,u=s.pageY;this._.elms.holder.addClass("knob-dragging"),this._.options.onTouch(!0);var c=function(e){e.preventDefault();var t,i=n.find(e.originalEvent.touches,function(e){return e.identifier===s.identifier});i||h(),this._.options.scale&&(Math.abs(i.pageX-r)>=this._.options.scaleThreshold?a||(a=!0,o=this._.value):a&&(a=!1)),t=l+(u-i.pageY)/this._.options.trackSize,a?t=(t-o)*this._.options.scaleAmount+o:this._.options.zeroSnap&&Math.abs(this._.options.zeroPos-t)<=this._.options.snapThreshold&&(t=this._.options.zeroPos),t=Math.min(1,Math.max(0,t)),this.setValue(t),this._.options.onChange(this.getValue())}.bind(this),h=function(e){(!e||n.find(e.originalEvent.changedTouches,function(e){return e.identifier===s.identifier}))&&(t.off("touchmove",c),t.off("touchend",h),this._.elms.holder.removeClass("knob-dragging"),this._.options.onTouch(!1))}.bind(this);t.on("touchmove",c),t.on("touchend",h)}}})}(jQuery,jQuery(document),_),function(e,t,n){"use strict";var i=window.Contrall||(window.Contrall={}),s=i.Controls||(i.Controls={}),r=s.Select=function(t){this._={options:n.defaults(t||{},r.defaults),elms:{holder:e("<div></div>"),label:e("<span></span>"),value:e("<span></span>"),list:e("<div></div>")},items:[],name:null,value:null,current:null,open:!1,openTime:0,listHeight:null,valueHeight:null,updLock:!1},this._.elms.holder.addClass("select"),this._.elms.label.addClass("select-label"),this._.elms.value.addClass("select-value"),this._.elms.list.addClass("select-list"),this._.options.className&&(this._.elms.holder.addClass(this._.options.className),this._.elms.list.addClass(this._.options.className)),this._.elms.holder.append(this._.elms.label,this._.elms.value),this._prepareItems(),this._.elms.holder.on("touchstart touchend",this._handleTouch.bind(this)),this._.elms.list.on("touchstart touchend",".select-item",this._handleItem.bind(this)),this._reposition=this._reposition.bind(this),this._handleClose=this._handleClose.bind(this)};r.defaults={onChange:n.noop,onTouch:n.noop,className:null,items:[]},n.extend(r.prototype,{attach:function(e){return this._.elms.holder.appendTo(e),this},remove:function(){this._.elms.holder.remove()},reposition:function(){this._.open&&!this._.updLock&&(this._.updLock=!0,window.requestAnimationFrame(this._reposition))},setValue:function(e){return this._.value!==e&&(this._.value=e,this._setCurrent(this._findCurrent(e))),this},getValue:function(){return this._.value},setDescription:function(e){return this},setName:function(e){return this._.name!==e&&(this._.name=e,this._.elms.label.text(this._.name)),this},setItems:function(e){return this._.options.items=e,this._.elms.list.empty(),this._.elms.value.empty(),this._.current=null,this._prepareItems(),this},_setCurrent:function(e){null!==this._.current&&this._.items[this._.current].removeClass("current"),this._.current=e,this._.items[this._.current].addClass("current"),this._.elms.value.text(this._.options.items[this._.current].label)},_findCurrent:function(e){return n.findIndex(this._.options.items,function(t){return t.is(e)})},_handleTouch:function(t){if(t.preventDefault(),"touchstart"===t.type)this._.open?this._close():this._open();else if(this._.open&&this._.openTime+350<Date.now()){var i,s,r=n.find(t.originalEvent.changedTouches,function(t){return this._.elms.holder.is(t.target)||e.contains(this._.elms.holder[0],t.target)},this);if(!r)return;i=document.elementFromPoint(r.pageX,r.pageY),i&&(i=n.find(this._.items,function(e){return e.is(i)}),i&&(s=i.data("index"),this._itemSelected(s)))}},_handleItem:function(t){if(t.preventDefault(),"touchstart"===t.type){var n=e(t.currentTarget),i=n.data("index");this._itemSelected(i)}},_itemSelected:function(e){this._setCurrent(e),this._.value=this._.options.items[e].value,this._.options.onChange(this._.value),this._close()},_open:function(){this._.open||(this._updateSizes(),this._updateListPosition(),this._.elms.list.appendTo("body"),t.on("touchstart",this._handleClose),this._.open=!0,this._.openTime=Date.now())},_close:function(){this._.open&&(this._.elms.list.detach(),t.off("touchstart",this._handleClose),this._.open=!1)},_handleClose:function(t){this._.elms.holder.is(t.target)||e.contains(this._.elms.holder[0],t.target)||this._.elms.list.is(t.target)||e.contains(this._.elms.list[0],t.target)||this._close()},_reposition:function(){this._updateListPosition(),this._.updLock=!1},_updateListPosition:function(){var e=this._.elms.value.offset(),t=window.pageYOffset,n=window.innerHeight;e.top+this._.listHeight<n+t?this._.elms.list.css({left:e.left,top:e.top}):this._.elms.list.css({left:e.left,top:e.top+this._.valueHeight-this._.listHeight})},_prepareItems:function(){n.each(this._.options.items,function(e,t){this._.items.push(this._createItem(e,t))}.bind(this)),this._.items.length&&this._updateSizes()},_updateSizes:function(){this._.elms.list.css({left:-1e3,top:-1e3,opacity:0}).appendTo("body"),this._.listHeight=this._.elms.list.height(),this._.elms.value.css({width:this._.items[0].width()}),this._.valueHeight=this._.elms.value.outerHeight(),this._.elms.list.detach().css({opacity:""})},_createItem:function(t,n){var i=e("<span></span>");return i.addClass("select-item"),i.text(t.label),i.data("index",n),this._.elms.list.append(i),i}})}(jQuery,jQuery(document),_),function(e,t,n){"use strict";var i=window.Contrall||(window.Contrall={}),s=i.Controls||(i.Controls={}),r=s.Toggle=function(t){this._={options:n.defaults(t||{},r.defaults),elms:{holder:e("<div></div>"),label:e("<span></span>"),track:e("<span></span>"),button:e("<span></span>")},name:"",state:null},this._.elms.holder.addClass("toggle"),this._.elms.label.addClass("toggle-label"),this._.elms.track.addClass("toggle-track"),this._.elms.button.addClass("toggle-button"),this._.elms.holder.append(this._.elms.label,this._.elms.track),this._.elms.track.append(this._.elms.button),this._.elms.track.on("touchstart touchend",this._handleTouch.bind(this))};r.defaults={valueToState:function(e){return!!e},stateToValue:function(e){return e?1:0},onChange:n.noop,onTouch:n.noop},n.extend(r.prototype,{attach:function(e){return this._.elms.holder.appendTo(e),this},reposition:function(){},setValue:function(e){return this._setState(this._.options.valueToState(e)),this},_setState:function(e){this._.state!==e&&(this._.state=e,this._.state?this._.elms.track.addClass("on"):this._.elms.track.removeClass("on"))},getValue:function(){return this._.options.stateToValue(this._.state)},setDescription:function(e){return this},getDescription:function(){return""},setName:function(e){return this._.name!==e&&(this._.name=e,this._.elms.label.text(this._.name)),this},_handleTouch:function(e){return e.preventDefault(),"touchstart"!==e.type?void this._.options.onTouch(!1):(this._.options.onTouch(!0),this._setState(!this._.state),void this._.options.onChange(this.getValue()))}})}(jQuery,jQuery(document),_),function(e,t,n,i){var s=window.Contrall||(window.Contrall={}),r=s.Controls||(s.Controls={}),a=window.Utils,o=r.Channel=function(t,i){this._={index:t,options:n.defaults(i||{},o.defaults),name:"",number:"",solo:!1,mute:!1,selected:!1,volumeTouch:!1,panTouch:!1,elms:{holder:e("<div></div>"),header:e("<div></div>"),inserts:e("<div></div>"),tools:e("<div></div>"),pan:e("<div></div>"),fader:e("<div></div>"),number:e("<span></span>"),name:e("<span></span>"),btnSends:e("<button></button>"),btnReceives:e("<button></button>"),btnSolo:e("<button></button>"),btnMute:e("<button></button>")},inserts:[],bypassTimer:null,fader:null,pan:null,vu:null},this._.elms.holder.addClass("channel"),this._.elms.header.addClass("channel-header draggable-toggle"),this._.elms.inserts.addClass("channel-inserts"),this._.elms.tools.addClass("channel-tools"),this._.elms.pan.addClass("channel-pan"),this._.elms.fader.addClass("channel-fader"),this._.elms.number.addClass("channel-number"),this._.elms.name.addClass("channel-name"),this._.elms.btnSends.addClass("channel-btnSends"),this._.elms.btnReceives.addClass("channel-btnReceives"),this._.elms.btnSolo.addClass("channel-btnSolo draggable-toggle"),this._.elms.btnMute.addClass("channel-btnMute draggable-toggle"),this._.elms.holder.append(this._.elms.header,this._.elms.inserts,this._.elms.tools,this._.elms.pan,this._.elms.fader),this._.elms.header.append(this._.elms.number,this._.elms.name),this._.elms.tools.append(this._.elms.btnSends,this._.elms.btnReceives,this._.elms.btnSolo,this._.elms.btnMute);for(var s,r=0;4>r;r++)s=e("<span></span>"),s.addClass("channel-insert channel-insert-empty"),this._.elms.inserts.append(s),this._.inserts.push({elm:s,pending:!1,name:null,bypassed:null});this._.elms.header.data("type","selected"),this._.elms.btnSolo.data("type","solo"),this._.elms.btnMute.data("type","mute"),this._.elms.inserts.on("touchstart",".channel-insert",this._handleInsert.bind(this)),this._.elms.tools.on("touchstart touchend",".channel-btnSends, .channel-btnReceives",this._handleAux.bind(this)),this._.fader=this._createFader(),this._.pan=this._createPan(),this._.vu=this._createVU()};o.defaults={insertCount:4,vuChannelCount:2,onChange:n.noop,onVolumeTouch:n.noop,onVolumeChange:n.noop,onPanTouch:n.noop,onPanChange:n.noop,onInsertOpen:n.noop,onAuxOpen:n.noop},n.extend(o.prototype,{getIndex:function(){return this._.index},getElement:function(){return this._.elms.holder},isSelected:function(){return this._.selected},isVolumeTouch:function(){return this._.volumeTouch},isPanTouch:function(){return this._.panTouch},getVolume:function(){return this._.fader.getValue()},setVolume:function(e){return this._.fader.setValue(e),this},getPan:function(){return this._.pan.getValue()},setPan:function(e){return this._.pan.setValue(e),this},attach:function(e){return this._.elms.holder.appendTo(e),this._.pan.attach(this._.elms.pan),this._.vu.attach(this._.elms.fader),this._.fader.attach(this._.elms.fader),this},reposition:function(){return this._.pan.reposition(),this._.vu.reposition(),this._.fader.reposition(),this},update:function(e){this._updateParams(e),this._updateInserts(e),this._updateWidgets(e)},setToggleState:function(e,t){var n,i="active";switch(e){case"solo":n=this._.elms.btnSolo;break;case"mute":n=this._.elms.btnMute;break;case"selected":n=this._.elms.holder,i="selected";break;default:throw new Error("Unknown toggle: "+e)}return this._[e]!==t&&(this._[e]=t,t?n.addClass(i):n.removeClass(i)),this},getToggleState:function(e){switch(e){case"solo":case"mute":case"selected":return this._[e];default:throw new Error("Unknown toggle: "+e)}},dispatchToggleState:function(e){switch(e){case"solo":case"mute":this._.options.onChange(this._.index,"/"+e,[this._[e]?1:0]);break;case"selected":break;default:throw new Error("Unknown toggle: "+e)}},_updateParams:function(e){e.number!==i&&e.number!==this._.number&&this._.elms.number.text(this._.number=e.number),e.name!==i&&e.name!==this._.name&&this._.elms.name.text(this._.name=e.name),e.solo!==i&&this.setToggleState("solo",e.solo),e.mute!==i&&this.setToggleState("mute",e.mute)},_updateInserts:function(e){if(e.inserts!==i){var t,n,s;for(t=0;t<this._.options.insertCount;t++)e.inserts[t]!==i&&(n=e.inserts[t],s=this._.inserts[t],n.name!==i&&n.name!==s.name&&(s.name||s.elm.removeClass("channel-insert-empty"),s.name=n.name,s.elm.text(n.name),s.name||s.elm.addClass("channel-insert-empty")),n.bypassed!==i&&n.bypassed!==s.bypassed&&(s.bypassed=n.bypassed,s.bypassed?s.elm.addClass("channel-insert-bypassed"):s.elm.removeClass("channel-insert-bypassed")))}},_updateWidgets:function(e){e.volume!==i&&(e.volume.value!==i&&this._.fader.setValue(e.volume.value),e.volume.description!==i&&this._.fader.setLabel(e.volume.description)),e.pan!==i&&(e.pan.value!==i&&this._.pan.setValue(e.pan.value),e.pan.description!==i&&this._.pan.setLabel(e.pan.description)),e.vu!==i&&this._.vu.setValues(e.vu)},_createFader:function(){return new r.Fader({zeroPos:a.faderTaper.dbToN(0),filterIn:a.faderTaper.dbToN,filterOut:a.faderTaper.nToDb,onChange:function(e){this._.options.onVolumeChange(this._.index,e),this._.options.onChange(this._.index,"/volume/db",[e])}.bind(this),onTouch:function(e){this._.volumeTouch=e,this._.options.onVolumeTouch(this._.index,e),this._.options.onChange(this._.index,"/volume/touch",[e?1:0])}.bind(this),applyLabel:this._applyVolumeLabel})},_applyVolumeLabel:function(e,t){var n,i,s=1482,r=370,a=38,o=10,l=37;t&&"string"==typeof t?"-inf dB"===t?(n=s-a,i=r-2*o):(t=parseFloat(t.substr(0,t.length-2)),-132>t?(n=s-a,i=r-o):(t=Math.round(10*(t+132)),n=Math.floor(t/l)*a,i=t%l*o)):(n=s-a,i=r-o),e.css("background-position",-n+"px "+-i+"px")},_createPan:function(){return new r.Fader({horizontal:!0,zeroPos:.5,onChange:function(e){this._.options.onPanChange(this._.index,e),this._.options.onChange(this._.index,"/pan",[e])}.bind(this),onTouch:function(e){this._.panTouch=e,this._.options.onPanTouch(this._.index,e),this._.options.onChange(this._.index,"/pan/touch",[e?1:0])}.bind(this)})},_createVU:function(){return new r.VU({channels:this._.options.vuChannelCount})},_handleInsert:function(n){n.preventDefault();var i=e(n.currentTarget).index();this._.inserts[i].name&&(this._.bypassTimer&&window.clearTimeout(this._.bypassTimer),t.one("touchend",function(e){e.preventDefault(),this._.bypassTimer&&(window.clearTimeout(this._.bypassTimer),this._.options.onInsertOpen({channel:{index:this._.index,name:this._.name},fx:{index:i,name:this._.inserts[i].name,bypassed:this._.inserts[i].bypassed}}))}.bind(this)),this._.bypassTimer=window.setTimeout(function(){this._.bypassTimer=null;var e=!this._.inserts[i].bypassed;this._.inserts[i].bypassed=e,e?this._.inserts[i].elm.addClass("channel-insert-bypassed"):this._.inserts[i].elm.removeClass("channel-insert-bypassed"),this._.options.onChange(this._.index,"/fx/"+(i+1)+"/bypass",[e?0:1])}.bind(this),400))},_handleAux:function(e){e.preventDefault(),"touchstart"===e.type&&this._.options.onAuxOpen({mode:e.currentTarget.classList.contains("channel-btnSends")?"send":"receive",channel:{index:this._.index,name:this._.name}})}})}(jQuery,jQuery(document),_),function(e,t,n){var i=window.Contrall||(window.Contrall={}),s=i.Controls||(i.Controls={}),r=s.Mixer=function(t,i){this._={app:t,options:n.defaults(i||{},r.defaults),elms:{holder:e("<div></div>"),header:e("<div></div>"),main:e("<div></div>"),channels:e("<div></div>")},selection:{items:[],values:null,type:null,master:null,value:null},channels:[]},this._.elms.holder.addClass("mixer"),this._.elms.header.addClass("mixer-header"),this._.elms.main.addClass("mixer-main"),this._.elms.channels.addClass("mixer-channels"),this._.elms.holder.append(this._.elms.header,this._.elms.main),this._.elms.main.append(this._.elms.channels),this._createHeader(this._.elms.header),this._createChannels(),this._.elms.holder.on("touchstart",".channel .draggable-toggle",this._handleDraggable.bind(this))};r.defaults={channels:8,channelInsertCount:4,channelVuChannelCount:2},n.extend(r.prototype,{_createHeader:function(t){this._.elms.title=e("<span></span>"),this._.elms.bankLeft=e("<button></button>"),this._.elms.bankRight=e("<button></button>"),this._.elms.reload=e("<button></button>"),this._.elms.title.addClass("mixer-title"),this._.elms.bankLeft.addClass("mixer-btnBank mixer-btnBank-left btnPrev"),this._.elms.bankRight.addClass("mixer-btnBank mixer-btnBank-right btnNext"),this._.elms.reload.addClass("mixer-btnReload"),this._.elms.title.text("Master Mix"),t.append(this._.elms.title,this._.elms.bankLeft,this._.elms.bankRight,this._.elms.reload),t.on("touchstart touchend",".mixer-btnBank",this._handleBank.bind(this)),this._.elms.reload.on("touchstart touchend",this._handleReload.bind(this))},_createChannels:function(){for(var e=this._handleChange.bind(this),t=this._getTouchHandler("volume"),n=this._getTouchHandler("pan"),i=this._getChangeHandler("volume"),r=this._getChangeHandler("pan"),a=this._openInsert.bind(this),o=this._openAux.bind(this),l=0;l<this._.options.channels;l++)this._.channels.push(new s.Channel(l,{insertCount:this._.options.channelInsertCount,vuChannelCount:this._.options.channelVuChannelCount,onChange:e,onVolumeTouch:t,onVolumeChange:i,onPanTouch:n,onPanChange:r,onInsertOpen:a,onAuxOpen:o}))},_getTouchHandler:function(e){var t="volume"===e?"getVolume":"getPan",i="volume"===e?function(e){return e===Number.NEGATIVE_INFINITY?-132:e}:function(e){return e};return function(s,r){this._.selection.items.length&&n.contains(this._.selection.items,this._.channels[s])&&(r&&!this._.selection.master?(this._.selection.master=s,this._.selection.type=e,this._.selection.value=i(this._.channels[s][t]()),this._.selection.values=n.map(this._.selection.items,function(e){return i(e[t]())})):r||this._.selection.master!==s||this._.selection.type!==e||(this._.selection.master=null,this._.selection.type=null,this._.selection.value=null,this._.selection.values=null))}.bind(this)},_getChangeHandler:function(e){var t="volume"===e?"/volume/db":"/pan",i="volume"===e?"isVolumeTouch":"isPanTouch",s="volume"===e?"getVolume":"getPan",r="volume"===e?"setVolume":"setPan",a="volume"===e?function(e){return e===Number.NEGATIVE_INFINITY?-132:e}:function(e){return e};return function(o,l){this._.selection.items.length&&this._.selection.master===o&&this._.selection.type===e&&n.each(this._.selection.items,function(e,n){e.getIndex()===this._.selection.master||e[i]()||(e[r](this._.selection.values[n]+a(l)-this._.selection.value),this._.app.sendMessage(this._getChannelAddress(e.getIndex())+t,[e[s]()]))}.bind(this))}.bind(this)},_handleChange:function(e,t,n){this._.app.sendMessage(this._getChannelAddress(e)+t,n)},_getChannelAddress:function(e){return"/track/"+(e+1)},_openInsert:function(e){this._.app.setActive("fx",e)},_openAux:function(e){this._.app.setActive("aux",e)},attach:function(e){return this._.elms.holder.appendTo(e),n.each(this._.channels,function(e){e.attach(this._.elms.channels)}.bind(this)),this},update:function(e){n.each(this._.channels,function(t,n){"undefined"!=typeof e[n]&&t.update(e[n])})},reposition:function(){return n.each(this._.channels,function(e){e.reposition()}),this},setActive:function(){},_handleBank:function(e){if(e.preventDefault(),"touchstart"===e.type){var t=e.currentTarget.classList.contains("mixer-btnBank-left")?"-":"+";this._.app.sendMessage("/device/track/bank/"+t,[1])}},_handleReload:function(e){e.preventDefault(),"touchstart"===e.type&&this._.app.reload()},_handleDraggable:function(i){i.preventDefault();var s=n.find(i.originalEvent.touches,function(t){return t.target===i.currentTarget||e.contains(i.currentTarget,t.target)}),r=s.pageX,a=e(i.currentTarget),o=this._.channels[a.closest(".channel").index()],l=[],u=a.data("type"),c=!o.getToggleState(u),h=!1,d=!0;n.each(this._.channels,function(e){l.push(e.getToggleState(u))});var p=function(e,t){if(l[e.getIndex()]!==c)if(r>=t){if(e.getIndex()>o.getIndex())return;d=!1,e.getElement().offset().left+e.getElement().outerWidth()>t?e.setToggleState(u,c):e.setToggleState(u,!c)}else{if(e.getIndex()<o.getIndex())return;d=!1,e.getElement().offset().left<t?e.setToggleState(u,c):e.setToggleState(u,!c)}};o.setToggleState(u,c);var f=function(e){if(!h){h=!0;var t=n.find(e.originalEvent.touches,function(e){return e.identifier===s.identifier});return t?void window.requestAnimationFrame(function(){n.each(this._.channels,function(e){p(e,t.pageX)}),h=!1}.bind(this)):(h=!1,void m())}}.bind(this),m=function(e){if(!e||n.find(e.originalEvent.changedTouches,function(e){return e.identifier===s.identifier})){t.off("touchmove",f),t.off("touchend",m);var i=!1;n.each(this._.channels,function(e){e!==o&&l[e.getIndex()]!==e.getToggleState(u)&&(e.dispatchToggleState(u),i=!0)}),i?o.dispatchToggleState(u):d?"selected"!==u&&this._.selection.items.length&&n.contains(this._.selection.items,o)?n.each(this._.selection.items,function(e){l[e.getIndex()]!==c&&e.setToggleState(u,c),e.dispatchToggleState(u)}):o.dispatchToggleState(u):o.setToggleState(u,!c),"selected"===u&&this._updateSelection()}}.bind(this);t.on("touchmove",f),t.on("touchend",m)},_updateSelection:function(){this._.selection.items=n.filter(this._.channels,function(e){return e.isSelected()})}})}(jQuery,jQuery(document),_),function(e,t,n,i){var s=window.Contrall||(window.Contrall={}),r=s.Controls||(s.Controls={}),a=r.AuxChannel=function(t,i){this._={index:t,options:n.defaults(i||{},a.defaults),name:"",number:t+1,selected:!1,volumeTouch:!1,panTouch:!1,elms:{holder:e("<div></div>"),header:e("<div></div>"),pan:e("<div></div>"),fader:e("<div></div>"),number:e("<span></span>"),name:e("<span></span>")},fader:null,pan:null},this._.elms.holder.addClass("channel"),this._.elms.header.addClass("channel-header draggable-toggle"),this._.elms.pan.addClass("channel-pan"),this._.elms.fader.addClass("channel-fader"),this._.elms.number.addClass("channel-number"),this._.elms.name.addClass("channel-name"),this._.elms.holder.append(this._.elms.header,this._.elms.pan,this._.elms.fader),this._.elms.header.append(this._.elms.number,this._.elms.name),this._.elms.header.data("type","selected"),this._.elms.number.text(this._.number),this._.fader=this._createFader(),this._.pan=this._createPan()};a.defaults={onChange:n.noop,onVolumeTouch:n.noop,onPanTouch:n.noop},n.extend(a.prototype,{getIndex:function(){return this._.index},getElement:function(){return this._.elms.holder},isSelected:function(){return this._.selected},isVolumeTouch:function(){return this._.volumeTouch},isPanTouch:function(){return this._.panTouch},getVolume:function(){return this._.fader.getValue()},setVolume:function(e){return this._.fader.setValue(e),this},getPan:function(){return this._.pan.getValue()},setPan:function(e){return this._.pan.setValue(e),this},attach:function(e){return this._.elms.holder.appendTo(e),this._.pan.attach(this._.elms.pan),this._.fader.attach(this._.elms.fader),this},reposition:function(){return this._.pan.reposition(),this._.fader.reposition(),this},update:function(e){this._updateParams(e),this._updateWidgets(e)},_updateParams:function(e){e.name!==i&&e.name!==this._.name&&this._.elms.name.text(this._.name=e.name)},_updateWidgets:function(e){e.volume!==i&&(e.volume.value!==i&&this._.fader.setValue(e.volume.value),e.volume.description!==i&&this._.fader.setLabel(e.volume.description)),e.pan!==i&&(e.pan.value!==i&&this._.pan.setValue(e.pan.value),e.pan.description!==i&&this._.pan.setLabel(e.pan.description))},setToggleState:function(e,t){if("selected"!==e)throw new Error("Unknown toggle: "+e);return this._.selected!==t&&(this._.selected=t,t?this._.elms.holder.addClass("selected"):this._.elms.holder.removeClass("selected")),this},getToggleState:function(e){if("selected"!==e)throw new Error("Unknown toggle: "+e);return this._.selected},dispatchToggleState:function(e){},_createFader:function(){return new r.Fader({zeroPos:.7160000205039978,onChange:function(e){this._.options.onVolumeChange(this._.index,e),this._.options.onChange(this._.index,"/volume",[e])}.bind(this),onTouch:function(e){this._.volumeTouch=e,this._.options.onVolumeTouch(this._.index,e),this._.options.onChange(this._.index,"/volume/touch",[e?1:0])}.bind(this)})},_createPan:function(){return new r.Fader({horizontal:!0,zeroPos:.5,onChange:function(e){this._.options.onPanChange(this._.index,e),this._.options.onChange(this._.index,"/pan",[e])}.bind(this),onTouch:function(e){this._.panTouch=e,this._.options.onPanTouch(this._.index,e),this._.options.onChange(this._.index,"/pan/touch",[e?1:0])}.bind(this)})}})}(jQuery,jQuery(document),_),function(e,t){var n=window.Contrall||(window.Contrall={}),i=n.Controls||(n.Controls={}),s=window.Utils,r=i.AuxMixer=s.extend(i.Mixer,function(e,t){r.Super.call(this,e,t),this._.mode="send",this._.track=-1,this._.data=[]});t.extend(r.prototype,{_createChannels:function(){for(var e=this._handleChange.bind(this),t=this._getTouchHandler("volume"),n=this._getTouchHandler("pan"),s=this._getChangeHandler("volume"),r=this._getChangeHandler("pan"),a=0;a<this._.options.channels;a++)this._.channels.push(new i.AuxChannel(a,{onChange:e,onVolumeTouch:t,onVolumeChange:s,onPanTouch:n,onPanChange:r}))},_createHeader:function(t){this._.elms.title=e("<div></div>"),this._.elms.btnQuit=e("<button></button>"),this._.elms.title.addClass("mixer-title"),this._.elms.btnQuit.addClass("mixer-btnQuit btnClose"),t.append(this._.elms.title,this._.elms.btnQuit),this._.elms.btnQuit.on("touchstart touchend",this._handleQuit.bind(this))},_handleQuit:function(e){e.preventDefault(),"touchstart"!==e.type&&this._.app.setActive("mixer")},_getChannelAddress:function(e){return"/track/"+(this._.track+1)+"/"+("send"===this._.mode?"send":"recv")+"/"+(e+1)},update:function(e){if("undefined"!=typeof e[this._.track]){var n="send"===this._.mode?e[this._.track].sends:e[this._.track].receives;"undefined"!=typeof n&&t.each(this._.channels,function(e,t){"undefined"!=typeof n[t]&&e.update(n[t])}.bind(this))}},reposition:function(){return t.each(this._.channels,function(e){e.reposition()}),this},setActive:function(t){this._.track=t.channel.index,this._.mode=t.mode,this._.elms.title.empty(),this._.elms.title.append(e('<span class="mixer-title-type"></span>').text(("send"===t.mode?"Sends":"Receives")+" for track"),e('<span class="mixer-title-name"></span>').text(t.channel.name));var n=this._.app.getData();return"undefined"!=typeof n.tracks&&this.update(n.tracks),this}})}(jQuery,_),function(e,t){var n=window.Contrall||(window.Contrall={}),i=n.Controls||(n.Controls={}),s=n.Editors||(n.Editors={}),r=s.Generic=function(n,i){this._={app:n,options:t.defaults(i||{},r.defaults),elms:{holder:e("<div></div>")},knobs:[]},this._.elms.holder.addClass("fxeditor-editor fxeditor-generic"),this._createKnobs()};r.defaults={params:24,onChange:t.noop},t.extend(r.prototype,{attach:function(e){return this._.elms.holder.appendTo(e),t.each(this._.knobs,function(e){e.attach(this._.elms.holder)}.bind(this)),this},update:function(e){return t.each(e,function(e,t){e&&t<this._.options.params&&this._updateKnob(t,e)},this),this},reposition:function(){},supportsPlugin:function(e){return!0},supportsBanks:function(){return!0},getBankSize:function(){return this._.options.params},setPlugin:function(e){this._cleanup()},_cleanup:function(){for(var e={name:"",value:null,description:""},t=0;t<this._.options.params;t++)this._updateKnob(t,e)},_createKnobs:function(){this._.knobs=t.map(new Array(this._.options.params),function(e,t){return new i.Knob({onChange:this._getKnobHandler(t,"/value"),onTouch:this._getKnobHandler(t,"/touch")})}.bind(this))},_getKnobHandler:function(e,t){return function(n){this._.options.onChange(e,t,n)}.bind(this)},_updateKnob:function(e,n){var i=this._.knobs[e];t.each(n,function(e,t){switch(t){case"name":i.setName(e);break;case"value":i.setValue(e);break;case"description":i.setDescription(e)}})}})}(jQuery,_),function(e,t,n,i){var s=window.Contrall||(window.Contrall={}),r=s.Controls||(s.Controls={}),a=s.Editors||(s.Editors={}),o=a.EQs||(a.EQs=[]),l=a.EQ=function(t,i){this._={app:t,options:n.defaults(i||{},l.defaults),eq:null,elms:{holder:e("<div></div>"),main:e("<div></div>"),mainPanelHolder:e("<div></div>"),mainPanel:e("<div></div>"),graphHolder:e("<div></div>"),graph:e("<div></div>"),graphRulers:e("<canvas></canvas>"),bandsHolder:e("<div></div>"),bands:e("<div></div>"),bandPanelHolder:e("<div></div>"),bandPanel:e("<div></div>"),btnNotch:e("<button></button>")},size:{width:null,height:null},canvas:null,setup:!1,bands:null,params:[],selectedBand:null,bandControls:{frequency:null,gain:null,q:null,type:null}},this._.elms.holder.addClass("fxeditor-editor fxeditor-eq"),this._.elms.main.addClass("fxeditor-eq-main"),this._.elms.mainPanelHolder.addClass("fxeditor-eq-mainPanel-holder panel-holder panel-vertical"),this._.elms.mainPanel.addClass("fxeditor-eq-mainPanel panel"),this._.elms.graphHolder.addClass("fxeditor-eq-graph-holder"),this._.elms.graph.addClass("fxeditor-eq-graph"),this._.elms.graphRulers.addClass("fxeditor-eq-graph-rulers"),this._.elms.bandsHolder.addClass("fxeditor-eq-bands-holder panel-holder"),this._.elms.bands.addClass("fxeditor-eq-bands panel"),this._.elms.bandPanelHolder.addClass("fxeditor-eq-bandPanel-holder panel-holder panel-vertical"),this._.elms.bandPanel.addClass("fxeditor-eq-bandPanel panel"),this._.elms.btnNotch.addClass("fxeditor-eq-btnNotch"),this._.elms.holder.append(this._.elms.main,this._.elms.mainPanelHolder,this._.elms.bandPanelHolder),this._.elms.main.append(this._.elms.graphHolder,this._.elms.bandsHolder),this._.elms.mainPanelHolder.append(this._.elms.mainPanel),this._.elms.graphHolder.append(this._.elms.graph,this._.elms.graphRulers),this._.elms.bandsHolder.append(this._.elms.bands),this._.elms.bandPanelHolder.append(this._.elms.bandPanel),this._.elms.bandPanelHolder.css("display","none"),this._.elms.graph.on("touchstart",".fxeditor-eq-graph-point",this._handlePointDrag.bind(this)),this._.elms.bands.on("touchstart touchend",".fxeditor-eq-band .fxeditor-eq-band-btnActive",this._handleToggle.bind(this)),this._.elms.bands.on("touchstart",".fxeditor-eq-band",this._handlePanelDrag.bind(this)),this._.elms.btnNotch.on("touchstart",this._handleNotch.bind(this)),this._.bandControls.frequency=this._createKnob("frequency"),this._.bandControls.gain=this._createKnob("gain"),this._.bandControls.q=this._createKnob("q"),this._.bandControls.frequency.setName("Frequency"),this._.bandControls.gain.setName("Gain"),this._.bandControls.q.setName("Q")};l.defaults={onChange:n.noop},n.extend(l.prototype,{attach:function(e){return this._.elms.holder.appendTo(e),this._.bandControls.frequency.attach(this._.elms.bandPanel),this._.bandControls.gain.attach(this._.elms.bandPanel),this._.bandControls.q.attach(this._.elms.bandPanel),this},update:function(){var e=this._.app.getData().fxParams;if(e)return n.each(e,function(e,t){if(e&&e.name){var n=this._.eq.getBand(e,t);null!==n&&this._getBand(n)}}.bind(this)),n.each(this._.bands,function(t){t&&this._updateBand(t,e)}.bind(this)),this._.eq.features.params&&n.each(this._.eq.features.params,function(t,n){e[t.index]&&this._.params[n]&&this._updateWidget(this._.params[n],e[t.index]);
}.bind(this)),this},reposition:function(){this._.setup&&(this._.size.width=this._.elms.graph.width(),this._.size.height=this._.elms.graph.height(),n.map(this._.bands,function(e){e&&this._updatePoint(e,e.params.frequency,e.params.gain)}.bind(this)),this._drawRulers())},supportsPlugin:function(e){return!!n.find(o,function(t){return t.pattern.test(e)})},supportsBanks:function(){return this._.eq&&this._.eq.banks},getBankSize:function(){return this._.eq.bankSize},setPlugin:function(e){this._.eq=n.find(o,function(t){return t.pattern.test(e)}),this._cleanup(),this._setup()},_cleanup:function(){this._.setup=!1,this._.bands=[],this._.params=[],this._.selectedBand=null,this._.elms.btnNotch.detach(),this._.elms.graph.empty(),this._.elms.bands.empty(),this._.elms.mainPanel.empty(),this._.elms.mainPanelHolder.css("display",""),this._.elms.bandPanelHolder.css("display","none")},_setup:function(){this._.setup||(this._.eq.features.notch&&this._.elms.graph.append(this._.elms.btnNotch),this._.size.width=this._.elms.graph.width(),this._.size.height=this._.elms.graph.height(),this._drawRulers(),this._.eq.features.params&&this._.eq.features.params.length&&this._addParams(),this._.eq.features.bands.type?this._.bandControls.type?this._.bandControls.type.setItems(this._.eq.bandTypes):(this._.bandControls.type=this._createSelect("type",this._.eq.bandTypes),this._.bandControls.type.attach(this._.elms.bandPanel),this._.bandControls.type.setName("Type")):this._.bandControls.type&&(this._.bandControls.type.remove(),this._.bandControls.type=null),this._.setup=!0)},_updateBand:function(e,t){var n,s=null,r=null,a=this._.selectedBand===e;null!==e.index.frequency&&t[e.index.frequency]!==i&&(t[e.index.frequency].description!==i&&(e.elms.frequency.text(t[e.index.frequency].description),a&&this._.bandControls.frequency.setDescription(t[e.index.frequency].description)),t[e.index.frequency].value!==i&&t[e.index.frequency].value!==e.params.frequency&&(s=t[e.index.frequency].value,a&&this._.bandControls.frequency.setValue(s))),null!==e.index.gain&&t[e.index.gain]!==i&&(t[e.index.gain].description!==i&&(e.elms.gain.text(t[e.index.gain].description),a&&this._.bandControls.gain.setDescription(t[e.index.gain].description)),t[e.index.gain].value!==i&&t[e.index.gain].value!==e.params.gain&&(r=t[e.index.gain].value,a&&this._.bandControls.gain.setValue(r))),null!==e.index.q&&t[e.index.q]!==i&&(t[e.index.q].description!==i&&(e.elms.q.text(t[e.index.q].description),a&&this._.bandControls.q.setDescription(t[e.index.q].description)),t[e.index.q].value!==i&&(e.params.q=t[e.index.q].value,a&&this._.bandControls.q.setValue(t[e.index.q].value))),null!==e.index.type&&t[e.index.type]!==i&&(t[e.index.type].description!==i&&e.elms.type.text(t[e.index.type].description),t[e.index.type].value!==i&&(e.params.type=t[e.index.type].value,a&&this._.bandControls.type.setValue(t[e.index.type].value))),null!==e.index.active&&t[e.index.active]!==i&&t[e.index.active].value!==i&&(n=this._.eq.isActive(t[e.index.active].value),n!==e.params.active&&this._toggleActive(e,n)),e.dragging||null===r&&null===s||(null===r&&(r=e.params.gain),null===s&&(s=e.params.frequency),this._updatePoint(e,s,r))},_updatePoint:function(e,t,n){t=Math.max(0,Math.min(1,t)),n=Math.max(0,Math.min(1,n));var i=this._.size.width*t,s=this._.size.height*n;e.elms.point.css("transform","translate("+i.toFixed(3)+"px, -"+s.toFixed(3)+"px)"),e.params.frequency=t,e.params.gain=n},_getBand:function(e){return this._.bands[e]===i&&(this._.bands[e]=this._createBand(e)),this._.bands[e]},_toggleActive:function(e,t){t?(e.elms.btnActive.addClass("active"),e.elms.point.removeClass("inactive")):(e.elms.btnActive.removeClass("active"),e.elms.point.addClass("inactive")),e.params.active=t},_handleToggle:function(t){if(t.preventDefault(),"touchstart"===t.type){var n=e(t.currentTarget),i=n.data("index"),s=this._.bands[i],r=null;s.params.active||(r=this._.eq.onActivate(s.index.base,s.params)),this._toggleActive(s,!s.params.active),this._.options.onChange(s.index.active,"/value",this._.eq.convertActive(s.params.active)),this._sendDefaults(r),s.params.active||s!==this._.selectedBand||this._selectBand(null)}},_selectBand:function(e){return this._.selectedBand&&this._.selectedBand.elms.panel.removeClass("selected"),null===e?(this._.elms.bandPanelHolder.css("display","none"),this._.elms.mainPanelHolder.css("display",""),void(this._.selectedBand=null)):(this._.bandControls.frequency.setValue(e.params.frequency),this._.bandControls.gain.setValue(e.params.gain),this._.bandControls.q.setValue(e.params.q),this._.eq.features.bands.type&&this._.bandControls.type.setValue(e.params.type),this._.selectedBand||(this._.elms.mainPanelHolder.css("display","none"),this._.elms.bandPanelHolder.css("display","")),e.elms.panel.addClass("selected"),void(this._.selectedBand=e))},_handlePointDrag:function(t){t.preventDefault();var i=e(t.currentTarget),s=i.data("index"),r=this._.bands[s],a=n.find(t.originalEvent.touches,function(e){return r.elms.point.is(e.target)},this);a&&this._handleDrag(r,t,a,!1,!1)},_handlePanelDrag:function(i){if(!i.isDefaultPrevented()){i.preventDefault();var s=e(i.currentTarget),r=s.data("index"),a=this._.bands[r],o=n.find(i.originalEvent.touches,function(t){return a.elms.panel.is(t.target)||e.contains(a.elms.panel[0],t.target)},this),l=!0;if(o){if(this._.eq.features.bands.active&&!a.params.active)return void this._handleNewDrag(a,i,o);var u=function(e){var t=n.find(e.originalEvent.touches,function(e){return this._.elms.graph.is(e.target)}.bind(this));t&&(l=!1,c(),this._handleDrag(a,e,t,!1,!1))}.bind(this),c=function(e){(!e||n.find(e.originalEvent.changedTouches,function(e){return e.identifier===o.identifier}))&&(this._.elms.graph.off("touchstart",u),t.off("touchend",c),l&&(this._.selectedBand===a?this._selectBand(null):this._selectBand(a)))}.bind(this);this._.elms.graph.on("touchstart",u),t.on("touchend",c)}}},_handleNotch:function(e){e.preventDefault();var t,i=n.find(e.originalEvent.touches,function(e){return this._.elms.btnNotch.is(e.target)},this),s=n.find(this._.bands,function(e){return!e.params.active});i&&s&&(this._updatePoint(s,1,.5),this._toggleActive(s,!0),t=this._.eq.notch,this._.options.onChange(s.index.active,"/value",this._.eq.convertActive(!0)),this._.options.onChange(s.index.type,"/value",t.setup.type),this._.options.onChange(s.index.gain,"/value",t.setup.gain),this._.options.onChange(s.index.q,"/value",t.setup.q),this._handleDrag(s,e,i,!1,!0,function(){this._.options.onChange(s.index.type,"/value",t.active.type),this._.options.onChange(s.index.gain,"/value",t.active.gain),this._.options.onChange(s.index.q,"/value",t.active.q)}))},_handleDrag:function(e,i,s,r,a,o){e.dragging=!0,e.elms.panel.addClass("focus");var l=e.params.frequency,u=e.params.gain,c=s.pageX,h=s.pageY;r||this._.options.onChange(e.index.frequency,"/touch",1),a||this._.options.onChange(e.index.gain,"/touch",1);var d=function(t){t.preventDefault();var i,o,d=n.find(t.originalEvent.touches,function(e){return e.identifier===s.identifier});d||p(),i=r?l:(d.pageX-c)/this._.size.width+l,o=a?u:(h-d.pageY)/this._.size.height+u,i=Math.max(0,Math.min(1,i)),o=Math.max(0,Math.min(1,o)),this._updatePoint(e,i,o),r||this._.options.onChange(e.index.frequency,"/value",i),a||this._.options.onChange(e.index.gain,"/value",o)}.bind(this),p=function(i){(!i||n.find(i.originalEvent.changedTouches,function(e){return e.identifier===s.identifier}))&&(t.off("touchmove",d),t.off("touchend",p),e.dragging=!1,e.elms.panel.removeClass("focus"),r||this._.options.onChange(e.index.frequency,"/touch",0),a||this._.options.onChange(e.index.gain,"/touch",0),o&&o.call(this,e))}.bind(this);t.on("touchmove",d),t.on("touchend",p)},_handleNewDrag:function(e,i,s){e.dragging=!0,e.elms.panel.addClass("focus");var r=this._.elms.graph.offset(),a=0,o=0,l=function(e){e.preventDefault();var t=n.find(e.originalEvent.touches,function(e){return e.identifier===s.identifier});t||u(),a=t.pageX,o=t.pageY}.bind(this),u=function(i){if((!i||n.find(i.originalEvent.changedTouches,function(e){return e.identifier===s.identifier}))&&(t.off("touchmove",l),t.off("touchend",u),e.dragging=!1,e.elms.panel.removeClass("focus"),a>=r.left&&a<=r.left+this._.size.width&&o>=r.top&&o<=r.top+this._.size.height)){var c=Math.max(0,Math.min(1,(a-r.left)/this._.size.width)),h=1-Math.max(0,Math.min(1,(o-r.top)/this._.size.height)),d=this._.eq.onActivate(e.index.base,e.params);this._toggleActive(e,!0),this._updatePoint(e,c,h),this._selectBand(e),this._.options.onChange(e.index.active,"/value",this._.eq.convertActive(!0)),this._.options.onChange(e.index.frequency,"/value",c),this._.options.onChange(e.index.gain,"/value",h),this._sendDefaults(d)}}.bind(this);t.on("touchmove",l),t.on("touchend",u)},_sendDefaults:function(e){e&&n.each(e,function(e){this._.options.onChange(e.param,"/value",e.value)}.bind(this))},_createBand:function(t){var n={dragging:!1,elms:{point:e("<span></span>"),panel:e("<div></div>")},params:{frequency:null,gain:null,q:null,active:i,type:null},index:{base:t,frequency:this._.eq.mapBand(t,"frequency"),gain:this._.eq.mapBand(t,"gain"),q:this._.eq.mapBand(t,"q"),active:this._.eq.mapBand(t,"active"),type:this._.eq.mapBand(t,"type")}};return n.elms.point.addClass("fxeditor-eq-graph-point"),n.elms.panel.addClass("fxeditor-eq-band"),this._.elms.graph.append(n.elms.point),function(){var e;for(e=t-1;e>=0;e--)if(this._.bands[e])return void this._.bands[e].elms.panel.after(n.elms.panel);for(e=t+1;e<this._.bands.length;e++)if(this._.bands[e])return void this._.bands[e].elms.panel.before(n.elms.panel);this._.elms.bands.append(n.elms.panel)}.bind(this)(),n.elms.point.attr("data-index",t+1),n.elms.point.data("index",t),n.elms.panel.data("index",t),this._.eq.features.bands.active&&(n.elms.btnActive=e("<button></button>"),n.elms.btnActive.addClass("fxeditor-eq-band-btnActive"),n.elms.btnActive.data("index",t),n.elms.panel.append(n.elms.btnActive)),n.elms.panel.append(e("<span></span>").addClass("fxeditor-eq-band-name").text(t+1)),this._.eq.features.bands.type&&(n.elms.type=e("<span></span>"),n.elms.type.addClass("fxeditor-eq-band-field fxeditor-eq-band-type"),n.elms.panel.append(n.elms.type)),this._.eq.features.bands.frequency&&(n.elms.frequency=e("<span></span>"),n.elms.frequency.addClass("fxeditor-eq-band-field fxeditor-eq-band-frequency"),n.elms.frequency.data("param","frequency"),n.elms.frequency.data("index",t),n.elms.panel.append(n.elms.frequency)),this._.eq.features.bands.gain&&(n.elms.gain=e("<span></span>"),n.elms.gain.addClass("fxeditor-eq-band-field fxeditor-eq-band-gain"),n.elms.gain.data("param","gain"),n.elms.gain.data("index",t),n.elms.panel.append(n.elms.gain)),this._.eq.features.bands.q&&(n.elms.q=e("<span></span>"),n.elms.q.addClass("fxeditor-eq-band-field fxeditor-eq-band-q"),n.elms.q.data("param","q"),n.elms.q.data("index",t),n.elms.panel.append(n.elms.q)),n},_addParams:function(){n.each(this._.eq.features.params,function(e,t){var n=this._createParam(e,t);n.attach(this._.elms.mainPanel),this._.params.push(n)}.bind(this))},_updateWidget:function(e,t){n.each(t,function(t,n){switch(n){case"name":e.setName(t);break;case"value":e.setValue(t);break;case"description":e.setDescription(t)}})},_getChangeHandler:function(e,t){return function(n){this._handleChange(e,t,n)}.bind(this)},_handleChange:function(e,t,n){switch(e){case"frequency":case"gain":case"q":case"type":if(!this._.selectedBand)return;e=this._.selectedBand.index[e];break;default:e=this._.eq.features.params[e].index}this._.options.onChange(e,t,n)},_createParam:function(e,t){switch(e.type){case"knob":return this._createKnob(t,e);case"select":return this._createSelect(t,e.items);case"toggle":return this._createToggle(t,e)}},_createKnob:function(e,t){return new r.Knob(n.extend({zeroSnap:!1,onChange:this._getChangeHandler(e,"/value"),onTouch:this._getChangeHandler(e,"/touch")},n.pick(t||{},["zeroPos","zeroSnap"])))},_createSelect:function(e,t){return new r.Select({className:"panel-select",items:t,onChange:this._getChangeHandler(e,"/value"),onTouch:this._getChangeHandler(e,"/touch")})},_createToggle:function(e,t){return new r.Toggle(n.extend({onChange:this._getChangeHandler(e,"/value"),onTouch:this._getChangeHandler(e,"/touch")},n.pick(t||{},["stateToValue","valueToState"])))},_drawRulers:function(){if(!this._.eq.rulers||!this._.size.width)return void(this._.canvas&&this._.elms.graphRulers.prop({width:this._.size.width,height:this._.size.height}));this._.canvas||(this._.canvas=this._.elms.graphRulers[0].getContext("2d")),this._.elms.graphRulers.prop({width:this._.size.width,height:this._.size.height});var e,t,n,i,s,r=this._.size.width,a=this._.size.height,o=this._.eq.rulers;for(this._.canvas.font="14px sans-serif",this._.canvas.fillStyle="#262626",this._.canvas.fillRect(0,0,r,a),this._.canvas.strokeStyle="#333333",this._.canvas.fillStyle="#828282",e=0;e<o.gain.values.length;e++)n=o.gain.values[e],t=o.gain.labels[e],i=t?0:24,s=a-Math.round(n*a)+.5,this._.canvas.moveTo(i,s),this._.canvas.lineTo(r,s),t&&this._.canvas.fillText(t,4,s-7);for(e=0;e<o.frequency.values.length;e++)n=o.frequency.values[e],t=o.frequency.labels[e],i=Math.round(n*r)+.5,s=t?a:a-20,this._.canvas.moveTo(i,0),this._.canvas.lineTo(i,s),t&&(i-=this._.canvas.measureText(t).width,this._.canvas.fillText(t,i-5,a-6));this._.canvas.stroke(),this._.canvas.beginPath(),s=Math.round(.5*a)+.5,this._.canvas.strokeStyle="#f8c249",this._.canvas.moveTo(0,s),this._.canvas.lineTo(r,s),this._.canvas.stroke()}})}(jQuery,jQuery(document),_),function(){var e=window.Contrall||(window.Contrall={}),t=e.Editors||(e.Editors={}),n=t.EQs||(t.EQs=[]);n.push({pattern:/ReaEQ/,banks:!1,bankSize:48,maxBands:16,features:{bands:{gain:!0,frequency:!0,q:!0,active:!1,type:!1},params:!1},rulers:{gain:{values:[.6658770442008972,.2505936026573181],labels:["+6","-6"]},frequency:{values:[.06769197434186935,.1414380669593811,.23138615489006042,.2895059883594513,.3325263559818268,.36669665575027466,.39504411816596985,.4192672371864319,.4404151737689972,.45918142795562744,.47604861855506897,.5884538292884827,.6550067663192749,.702453076839447,.7393508553504944,.7695478796958923,.7951077818870544,.8172670602798462,.8368251919746399,.8543292284011841,.8701699376106262,.8846361041069031,.8979474306106567,.9102746844291687,.9217534065246582,.969637930393219,.9885094165802002],labels:["50","100","200","300",null,"500",null,null,null,null,"1.0k","2.0k","3.0k",null,"5.0k",null,null,null,null,"10.0k",null,null,null,null,null,"20.0k",null]}},isActive:function(e){throw new Error("ReaEQ doesn't support band active/inactive states via OSC")},convertActive:function(e){throw new Error("ReaEQ doesn't support band active/inactive states via OSC")},onActivate:function(e,t){return null},mapBand:function(e,t){var n;switch(t){case"frequency":n=0;break;case"gain":n=1;break;case"q":n=2;break;default:return null}return 3*e+n},getBand:function(e,t){return 48>t&&e.name.match(/^(Q|Freq|Gain)-/)?Math.floor(t/3):null}})}(),function(){var e=window.Contrall||(window.Contrall={}),t=e.Editors||(e.Editors={}),n=t.EQs||(t.EQs=[]);n.push({pattern:/FF Pro-Q 2/,banks:!1,bankSize:192,maxBands:24,features:{notch:!0,bands:{gain:!0,frequency:!0,q:!0,active:!0,type:!0},params:[{index:172,type:"knob"},{index:176,type:"toggle",valueToState:function(e){return 1===e}},{index:175,type:"toggle",valueToState:function(e){return 1===e}}]},notch:{setup:{type:0,gain:.6000000238418579,q:.8120982050895691},active:{type:.7142857313156128,gain:.5,q:.9060490727424622}},bandTypes:[{value:0,label:"Bell",is:function(e){return 1/7>e}},{value:1/7,label:"Low Shelf",is:function(e){return e>=1/7&&2/7>e}},{value:2/7,label:"Low Cut",is:function(e){return e>=2/7&&3/7>e}},{value:3/7,label:"High Shelf",is:function(e){return e>=3/7&&4/7>e}},{value:4/7,label:"High Cut",is:function(e){return e>=4/7&&5/7>e}},{value:5/7,label:"Notch",is:function(e){return e>=5/7&&6/7>e}},{value:6/7,label:"Band Pass",is:function(e){return e>=6/7&&1>e}},{value:1,label:"Tilt Shelf",is:function(e){return 1===e}}],rulers:{gain:{values:[.8333333134651184,.6666666865348816,.3333333432674408,.1666666716337204],labels:["20","10","-10","-20"]},frequency:{values:[.0865744948387146,.13721735775470734,.1731489896774292,.201019749045372,.22379185259342194,.24304533004760742,.2597234845161438,.2744346857070923,.2875942289829254,.37416872382164,.42481160163879395,.4607432186603546,.4886139929294586,.5113860964775085,.5306395888328552,.5473177433013916,.5620289444923401,.5751944184303284,.6617629528045654,.7124058604240417,.74833744764328,.776208221912384,.7989802360534668,.818233847618103,.8349119424819946,.8496231436729431,.8627827167510986,.9493572115898132],labels:["20",null,null,"50",null,null,null,null,"100","200",null,null,"500",null,null,null,null,"1k","2k",null,null,"5k",null,null,null,null,"10k","20k"]}},onActivate:function(e,t){return null!==t.active?null:[{param:7*e+3,value:.5},{param:7*e+4,value:0},{param:7*e+5,value:.125},{param:7*e+6,value:1}]},isActive:function(e){return 1>e?e>=.5:null},convertActive:function(e){return e?.5:0},mapBand:function(e,t){var n;switch(t){case"active":n=0;break;case"frequency":n=1;break;case"gain":n=2;break;case"q":n=3;break;case"type":n=4;break;default:return null}return 7*e+n},getBand:function(e,t){return 168>t&&e.name.match(/^Band \d+/)?Math.floor(t/7):null}})}(),function(e,t){var n=window.Contrall||(window.Contrall={}),i=n.Controls||(n.Controls={}),s=n.Editors||(n.Editors={}),r=s.LAs||(s.LAs=[]),a=s.LA=function(n,i){this._={app:n,options:t.defaults(i||{},a.defaults),elms:{holder:e("<div></div>"),main:e("<div></div>"),panelHolder:e("<div></div>"),panel:e("<div></div>")},setup:!1,la:null,params:[],leftKnob:null,rightKnob:null},this._.elms.holder.addClass("fxeditor-editor fxeditor-la"),this._.elms.main.addClass("fxeditor-la-main"),this._.elms.panelHolder.addClass("fxeditor-la-panel-holder panel-holder"),this._.elms.panel.addClass("fxeditor-la-panel panel"),this._.elms.holder.append(this._.elms.main,this._.elms.panelHolder),this._.elms.panelHolder.append(this._.elms.panel),this._.leftKnob=this._createKnob("left"),this._.rightKnob=this._createKnob("right")};a.defaults={onChange:t.noop},t.extend(a.prototype,{attach:function(e){return this._.elms.holder.appendTo(e),this._.leftKnob.attach(this._.elms.main),this._.rightKnob.attach(this._.elms.main),this},update:function(e){return e&&this._.la?(e[this._.la.params.main.left]&&this._updateWidget(this._.leftKnob,e[this._.la.params.main.left]),e[this._.la.params.main.right]&&this._updateWidget(this._.rightKnob,e[this._.la.params.main.right]),this._.la.params.other&&t.each(this._.la.params.other,function(t,n){e[t.index]&&this._.params[n]&&this._updateWidget(this._.params[n],e[t.index])}.bind(this)),this):this},reposition:function(){return this},supportsPlugin:function(e){return!!t.find(r,function(t){return t.pattern.test(e)})},supportsBanks:function(){return!1},getBankSize:function(){return this._.la.bankSize},setPlugin:function(e){this._.la=t.find(r,function(t){return t.pattern.test(e)}),this._cleanup(),this._setup()},_cleanup:function(){var e={name:"",value:null,description:""};this._updateWidget(this._.leftKnob,e),this._updateWidget(this._.rightKnob,e),this._.elms.panel.empty(),this._.params=[],this._.setup=!1},_setup:function(){this._.setup||(this._.setup=!0,t.each(this._.la.params.other,function(e,t){var n=this._createParam(e,t);n.attach(this._.elms.panel),this._.params.push(n)}.bind(this)))},_updateWidget:function(e,n){t.each(n,function(t,n){switch(n){case"name":e.setName(t);break;case"value":e.setValue(t);break;case"description":e.setDescription(t)}})},_getChangeHandler:function(e,t){return function(n){this._handleChange(e,t,n)}.bind(this)},_handleChange:function(e,t,n){switch(e){case"left":case"right":e=this._.la.params.main[e];break;default:e=this._.la.params.other[e].index}this._.options.onChange(e,t,n)},_createParam:function(e,t){switch(e.type){case"knob":return this._createKnob(t);case"select":return this._createSelect(t,e.items);case"toggle":return this._createToggle(t,e)}},_createKnob:function(e){return new i.Knob({zeroSnap:!1,onChange:this._getChangeHandler(e,"/value"),onTouch:this._getChangeHandler(e,"/touch")})},_createSelect:function(e,t){return new i.Select({className:"panel-select",items:t,onChange:this._getChangeHandler(e,"/value"),onTouch:this._getChangeHandler(e,"/value")})},_createToggle:function(e,n){return new i.Toggle(t.extend({onChange:this._getChangeHandler(e,"/value"),onTouch:this._getChangeHandler(e,"/touch")},t.pick(n||{},["stateToValue","valueToState"])))}})}(jQuery,_),function(){var e=window.Contrall||(window.Contrall={}),t=e.Editors||(e.Editors={}),n=t.LAs||(t.LAs=[]);n.push({pattern:/MJUCjr/,banks:!1,bankSize:8,params:{main:{left:0,right:1},other:[{index:2,type:"select",items:[{label:"Fast",value:0,is:function(e){return.25>=e}},{label:"Slow",value:.5,is:function(e){return e>.25&&.75>e}},{label:"Auto",value:1,is:function(e){return e>=.75}}]}]}})}(),function(){var e=window.Contrall||(window.Contrall={}),t=e.Editors||(e.Editors={}),n=t.LAs||(t.LAs=[]);n.push({pattern:/DC1A2/,banks:!1,bankSize:16,params:{main:{left:0,right:1},other:[{index:2,type:"toggle",valueToState:function(e){return 1===e}},{index:3,type:"toggle",valueToState:function(e){return 1===e}},{index:4,type:"toggle",valueToState:function(e){return 1===e}},{index:5,type:"toggle",valueToState:function(e){return 1===e}}]}})}(),function(){var e=window.Contrall||(window.Contrall={}),t=e.Editors||(e.Editors={}),n=t.LAs||(t.LAs=[]);n.push({pattern:/GTS-39/,banks:!1,bankSize:16,params:{main:{left:0,right:3},other:[{index:1,type:"knob"},{index:2,type:"knob"},{index:5,type:"knob"},{index:6,type:"select",items:[{label:"EQ1",value:0,is:function(e){return 0===e}},{label:"EQ2",value:1,is:function(e){return e>0}}]},{index:7,type:"select",items:[{label:"Original",value:0,is:function(e){return.7>e}},{label:"Smoother",value:1,is:function(e){return e>=.7}}]},{index:4,type:"select",items:[{label:"Stereo",value:0,is:function(e){return 0===e}},{label:"Dual mono",value:1,is:function(e){return e>0}}]},{index:8,type:"select",items:[{label:"Draft",value:.1,is:function(e){return e>=.07&&.17>e}},{label:"8x",value:0,is:function(e){return.07>e}},{label:"On export",value:.2,is:function(e){return e>=.17}}]}]}})}(),function(e,t){var n=window.Contrall||(window.Contrall={}),i=n.Controls||(n.Controls={}),s=n.Editors||(n.Editors={}),r=s.Comps||(s.Comps=[]),a=s.Comp=function(n,i){this._={app:n,options:t.defaults(i||{},a.defaults),elms:{holder:e("<div></div>"),main:e("<div></div>"),mainParams:e("<div></div>"),panelHolder:e("<div></div>"),panel:e("<div></div>"),graphHolder:e("<div></div>"),graph:e("<canvas></canvas>")},canvas:null,size:{width:null,height:null},comp:null,ratio:null,threshold:null,makeup:null,params:[]},this._.elms.holder.addClass("fxeditor-editor fxeditor-comp"),this._.elms.main.addClass("fxeditor-comp-main"),this._.elms.mainParams.addClass("fxeditor-comp-main-params"),this._.elms.panelHolder.addClass("fxeditor-comp-panel-holder panel-holder"),this._.elms.panel.addClass("fxeditor-comp-panel panel"),this._.elms.graphHolder.addClass("fxeditor-comp-graph-holder"),this._.elms.graph.addClass("fxeditor-comp-graph"),this._.elms.holder.append(this._.elms.main,this._.elms.panelHolder),this._.elms.main.append(this._.elms.graphHolder,this._.elms.mainParams),this._.elms.graphHolder.append(this._.elms.graph),this._.elms.panelHolder.append(this._.elms.panel),this._.canvas=this._.elms.graph[0].getContext("2d"),this._.ratio=this._createKnob("ratio"),this._.threshold=this._createKnob("threshold"),this._.makeup=this._createKnob("makeup")};a.defaults={onChange:t.noop},t.extend(a.prototype,{attach:function(e){return this._.elms.holder.appendTo(e),this._.ratio.attach(this._.elms.mainParams),this._.threshold.attach(this._.elms.mainParams),this._.makeup.attach(this._.elms.mainParams),this},update:function(e){if(!e||!this._.comp)return this;var n=!1;return e[this._.comp.params.main.ratio]&&(this._updateWidget(this._.ratio,e[this._.comp.params.main.ratio]),n=!0),e[this._.comp.params.main.threshold]&&(this._updateWidget(this._.threshold,e[this._.comp.params.main.threshold]),n=!0),n&&this._drawGraph(),e[this._.comp.params.main.makeup]&&this._updateWidget(this._.makeup,e[this._.comp.params.main.makeup]),this._.comp.params.other&&t.each(this._.comp.params.other,function(t,n){e[t.index]&&this._.params[n]&&this._updateWidget(this._.params[n],e[t.index])}.bind(this)),this},reposition:function(){return this},supportsPlugin:function(e){return!!t.find(r,function(t){return t.pattern.test(e)})},supportsBanks:function(){return!1},getBankSize:function(){return this._.comp.bankSize},setPlugin:function(e){this._.comp=t.find(r,function(t){return t.pattern.test(e)}),this._cleanup(),this._setup()},_cleanup:function(){var e={name:"",value:null,description:""};this._updateWidget(this._.ratio,e),this._updateWidget(this._.threshold,e),this._updateWidget(this._.makeup,e),this._.elms.panel.empty(),this._.params=[],this._.setup=!1},_setup:function(){this._.setup||(this._.setup=!0,this._.size.width=this._.elms.graphHolder.width(),this._.size.height=this._.elms.graphHolder.height(),this._drawGraph(),t.each(this._.comp.params.other,function(e,t){var n=this._createParam(e,t);n.attach(this._.elms.panel),this._.params.push(n)}.bind(this)))},_updateWidget:function(e,n){t.each(n,function(t,n){switch(n){case"name":e.setName(t);break;case"value":e.setValue(t);break;case"description":e.setDescription(t)}})},_getChangeHandler:function(e,t){return function(n){this._handleChange(e,t,n)}.bind(this)},_handleChange:function(e,t,n){switch(e){case"threshold":case"ratio":this._drawGraph();case"makeup":e=this._.comp.params.main[e];break;default:e=this._.comp.params.other[e].index}this._.options.onChange(e,t,n)},_createParam:function(e,t){switch(e.type){case"knob":return this._createKnob(t,e);case"select":return this._createSelect(t,e.items);case"toggle":return this._createToggle(t,e)}},_createKnob:function(e,n){return new i.Knob(t.extend({zeroSnap:!1,onChange:this._getChangeHandler(e,"/value"),onTouch:this._getChangeHandler(e,"/touch")},t.pick(n||{},["zeroPos","zeroSnap"])))},_createSelect:function(e,t){return new i.Select({className:"panel-select",items:t,onChange:this._getChangeHandler(e,"/value"),onTouch:this._getChangeHandler(e,"/value")})},_createToggle:function(e,n){return new i.Toggle(t.extend({onChange:this._getChangeHandler(e,"/value"),onTouch:this._getChangeHandler(e,"/touch")},t.pick(n||{},["stateToValue","valueToState"])))},_drawGraph:function(){var e,t,n=this._.threshold.getValue()||0,i=1/this._.comp.getRatio(this._.ratio.getValue()||0,this._.ratio.getDescription()||""),s=this._.size.width,r=this._.size.height;this._.comp.inverseThreshold&&(n=1-n),this._.elms.graph.prop({width:s,height:r}),this._.canvas.fillStyle="#000000",this._.canvas.fillRect(0,0,s,r),this._.canvas.fill(),this._.canvas.strokeStyle="#221100",this._.canvas.fillStyle="#221100",this._.canvas.lineWidth=3,this._.canvas.beginPath(),e=Math.round(n*s),t=Math.round(n*r),this._.canvas.moveTo(0,r),this._.canvas.lineTo(e,r-t),t=n*r+i*(1-n)*r,this._.canvas.lineTo(s,r-t),this._.canvas.lineTo(s,r),this._.canvas.stroke(),this._.canvas.fill(),this._.canvas.strokeStyle="#ffaa00",this._.canvas.lineWidth=3,this._.canvas.lineCap="round",this._.canvas.beginPath(),e=Math.round(n*s),t=Math.round(n*r),this._.canvas.moveTo(0,r-.5),this._.canvas.lineTo(e-.5,r-t-.5),t=n*r+i*(1-n)*r,this._.canvas.lineTo(s-.5,r-t-.5),this._.canvas.stroke(),this._.canvas.closePath()}})}(jQuery,_),function(){var e=window.Contrall||(window.Contrall={}),t=e.Editors||(e.Editors={}),n=t.Comps||(t.Comps=[]);n.push({pattern:/Pro-C/,banks:!1,bankSize:24,params:{main:{ratio:2,threshold:1,makeup:12},other:[{index:6,type:"knob",zeroSnap:!0,zeroPos:.5},{index:4,type:"knob"},{index:5,type:"knob"},{index:0,type:"select",items:[{label:"Clean",value:0,is:function(e){return.5>e}},{label:"Classic",value:.5,is:function(e){return e>=.5&&1>e}},{label:"Opto",value:1,is:function(e){return 1===e}}]},{index:3,type:"select",items:[{label:"Soft",value:0,is:function(e){return 1>e}},{label:"Hard",value:1,is:function(e){return 1===e}}]},{index:16,type:"toggle",valueToState:function(e){return 1===e}}]},getRatio:function(e){return.1>e?e+1:.2>e?1.5*e+.95:.3>e?2.5*e+.75:.4>e?5*e:.5>e?7.5*e-1:.6>e?12.5*e-3.5:.9>e?20*e-8:183166.83284715936+16347676.211582132*Math.pow(e,1)+-58092361.33664246*Math.pow(e,2)+39002822.06505723*Math.pow(e,3)+73024246.35911766*Math.pow(e,4)+-100468709.2372567*Math.pow(e,5)+-3911076.4900192916*Math.pow(e,6)+54772389.74972804*Math.pow(e,7)+-20858053.726767763*Math.pow(e,8)}})}(),function(){var e=window.Contrall||(window.Contrall={}),t=e.Editors||(e.Editors={}),n=t.Comps||(t.Comps=[]);n.push({pattern:/ReaComp/,banks:!1,bankSize:24,params:{main:{ratio:1,threshold:0,makeup:11},other:[{index:2,type:"knob"},{index:3,type:"knob"},{index:14,type:"knob"},{index:13,type:"knob"},{index:15,type:"toggle",valueToState:function(e){return e>=.5}},{index:16,type:"toggle",valueToState:function(e){return e>=.5}},{index:17,type:"toggle",valueToState:function(e){return e>=.5}}]},getRatio:function(e,t){return 1===e?1e3:parseFloat(t)}})}(),function(){var e=window.Contrall||(window.Contrall={}),t=e.Editors||(e.Editors={}),n=t.Comps||(t.Comps=[]);n.push({pattern:/DCAMFreeComp/,banks:!1,bankSize:16,params:{main:{ratio:1,threshold:2,makeup:3},other:[{index:0,type:"knob"},{index:4,type:"knob"},{index:5,type:"knob"}]},getRatio:function(e,t){return parseFloat(t||"1")}})}(),function(){var e=window.Contrall||(window.Contrall={}),t=e.Editors||(e.Editors={}),n=t.Comps||(t.Comps=[]);n.push({pattern:/TDR ?Feedback ?Compressor ?II(?: ?Mono)?/,banks:!1,bankSize:24,inverseThreshold:!0,params:{main:{ratio:3,threshold:0,makeup:7},other:[{index:2,type:"knob"},{index:4,type:"knob"},{index:5,type:"knob"},{index:6,type:"knob"},{index:1,type:"knob"},{index:15,type:"select",items:[{label:"Limit",value:0,is:function(e){return.5>e}},{label:"Comp",value:1,is:function(e){return e>=.5}}]},{index:16,type:"select",items:[{label:"Precise",value:0,is:function(e){return.5>e}},{label:"Eco",value:1,is:function(e){return e>=.5}}]},{index:12,type:"select",items:[{label:"Off",value:0,is:function(e){return.1>e}},{label:"3dB/Oct",value:.1,is:function(e){return e>=.1&&.2>e}},{label:"6dB/Oct",value:.2,is:function(e){return e>=.2&&.3>e}},{label:"12dB/Oct",value:.3,is:function(e){return e>=.3}}]},{index:9,type:"knob"},{index:11,type:"knob"},{index:8,type:"knob"}]},getRatio:function(e){return e=.5>e?2*e+1:10*e-3,Math.round(10*e)/10}})}(),function(e,t){"use strict";var n=window.Contrall||(window.Contrall={}),i=n.Controls||(n.Controls={}),s=i.FxEditor=function(n,i){this._={app:n,options:t.defaults(i||{},s.defaults),elms:{holder:e("<div></div>"),header:e("<div></div>"),editor:e("<div></div>"),title:e("<div></div>"),btnBankLeft:e("<button></button>"),btnBankRight:e("<button></button>"),btnActive:e("<button></button>"),btnQuit:e("<button></button>")},editors:[],layers:[],active:-1,index:null,bypassed:null},this._.elms.holder.addClass("fxeditor"),this._.elms.header.addClass("fxeditor-header"),this._.elms.editor.addClass("fxeditor-editor layer-root"),this._.elms.btnActive.addClass("fxeditor-btnActive"),this._.elms.title.addClass("fxeditor-title"),this._.elms.btnBankLeft.addClass("fxeditor-btnBank fxeditor-btnBankLeft btnPrev"),this._.elms.btnBankRight.addClass("fxeditor-btnBank fxeditor-btnBankRight btnNext"),this._.elms.btnQuit.addClass("fxeditor-btnQuit btnClose"),this._.elms.holder.append(this._.elms.header,this._.elms.editor),this._.elms.header.append(this._.elms.btnActive,this._.elms.title,this._.elms.btnBankLeft,this._.elms.btnBankRight,this._.elms.btnQuit),this._.elms.header.on("touchstart touchend",".fxeditor-btnBank",this._handleBank.bind(this)),this._.elms.btnActive.on("touchstart touchend",this._handleToggle.bind(this)),this._.elms.btnQuit.on("touchstart touchend",this._handleQuit.bind(this)),this._createEditors()};s.defaults={editors:["EQ","LA","Comp","Generic"]},t.extend(s.prototype,{attach:function(e){
return this._.elms.holder.appendTo(e),t.each(this._.layers,function(e){e.attach(this._.elms.editor)}.bind(this)),this},update:function(e){-1!==this._.active&&this._.editors[this._.active].update(e)},reposition:function(){t.each(this._.editors,function(e){e.reposition()})},setActive:function(n){return this._.index=n.fx.index,this._toggleButton(n.fx.bypassed),this._.elms.title.empty(),this._.elms.title.append(e('<span class="fxeditor-title-fx"></span>').text(n.fx.name),e('<span class="fxeditor-title-label"></span>').text("on track"),e('<span class="fxeditor-title-channel"></span>').text(n.channel.name)),-1!==this._.active&&this._.layers[this._.active].setActive(!1),this._.active=t.findIndex(this._.editors,function(e){return e.supportsPlugin(n.fx.name)}),-1!==this._.active&&(this._.editors[this._.active].setPlugin(n.fx.name),this._.layers[this._.active].setActive(!0),this._.editors[this._.active].supportsBanks()?(this._.elms.btnBankLeft.css("display",""),this._.elms.btnBankRight.css("display","")):(this._.elms.btnBankLeft.css("display","none"),this._.elms.btnBankRight.css("display","none")),this._.app.sendMessage("/device/fxparam/count",[this._.editors[this._.active].getBankSize()])),this._.app.selectFx(n.channel.index,n.fx.index),this},_createEditors:function(){var e=this._handleChange.bind(this);t.each(this._.options.editors,function(t){if("undefined"==typeof n.Editors[t])throw new Error("Unknown editor: "+t);var s=new n.Editors[t](this._.app,{onChange:e}),r=new i.Layer(s);this._.editors.push(s),this._.layers.push(r)}.bind(this))},_toggleButton:function(e){this._.bypassed!==e&&(e?this._.elms.btnActive.removeClass("active"):this._.elms.btnActive.addClass("active")),this._.bypassed=e},_handleChange:function(e,t,n){t="/fxparam/"+(e+1)+t,"boolean"==typeof n&&(n=n?1:0),this._.app.sendMessage(t,[n])},_handleBank:function(e){if(e.preventDefault(),"touchstart"===e.type){var t=e.currentTarget.classList.contains("fxeditor-btnBankLeft")?"-":"+";this._.app.sendMessage("/device/fxparam/bank/"+t,[1])}},_handleQuit:function(e){e.preventDefault(),"touchstart"===e.type&&this._.app.setActive("mixer")},_handleToggle:function(e){e.preventDefault(),"touchstart"===e.type&&(this._toggleButton(!this._.bypassed),this._.app.sendMessage("/fx/bypass",[this._.bypassed?0:1]))}})}(jQuery,_),function(e,t){var n=window.Contrall||(window.Contrall={}),i=n.Controls||(n.Controls={}),s=i.Layer=function(t){this._={elms:{holder:e("<div></div>")},active:!1,control:t},this._.elms.holder.addClass("layer")};t.extend(s.prototype,{attach:function(e){this._.elms.holder.appendTo(e),this._.control.attach(this._.elms.holder)},setActive:function(e){return this._.active!==e?(this._.active=e,this._.active?this._.elms.holder.addClass("layer-active"):this._.elms.holder.removeClass("layer-active"),this):void 0}})}(jQuery,_),function(e,t,n){var i=window.Contrall||(window.Contrall={}),s=i.App=function(n){this._={options:t.defaults(n||{},s.defaults),layers:{mixer:null,aux:null,fx:null},widgets:{mixer:null,aux:null,fx:null},active:null,socket:null,store:null,root:e("#root"),lastReload:0}};s.defaults={trackBankSize:8,trackInsertCount:4,trackAuxCount:8,fxParamBankSize:24},t.extend(s.prototype,{sendMessage:function(e,t){this._.store.handleLocalMessage(e,t),this._.socket.send({address:e,args:t})},setActive:function(e,n){if(!t.has(this._.widgets,e))throw new Error("Unknown widget: '"+e+"'");this._.active&&this._.layers[this._.active].setActive(!1),this._.active=e,this._.widgets[e].setActive(n);var i=this._.store.getData(),s="fx"===e?"fxParams":"tracks";i&&i[s]&&this._.widgets[e].update(i[s]),this._.layers[e].setActive(!0)},selectFx:function(e,t){this.sendMessage("/device/track/select/"+(e+1),[1]),this.sendMessage("/device/fx/select/"+(t+1),[1])},reload:function(){Date.now()<this._.lastReload+3e3?document.location.reload():(this.sendMessage("/action/41743",[1]),this._.lastReload=Date.now())},getData:function(){return this._.store.getData()},run:function(){this._createStore(),this._createSocket(),this._createMixer(),this._createAux(),this._createFxEditor(),this._reposition(),this.setActive("mixer"),e(window).on("resize orientationchange",this._reposition.bind(this)),this._.socket.on("ready",this._sendInfo.bind(this)),this._.socket.open()},_sendInfo:function(){this.sendMessage("/device/track/count",[this._.options.trackBankSize]),this.sendMessage("/device/fx/count",[this._.options.trackInsertCount]),this.sendMessage("/device/send/count",[this._.options.trackAuxCount]),this.sendMessage("/device/receive/count",[this._.options.trackAuxCount]),this.sendMessage("/action/41743",[1])},_createSocket:function(){var e=new n.WebSocketPort({url:"ws://"+document.location.host});e.on("message",this._handleMessage.bind(this)),this._.socket=e},_createStore:function(){var e=new i.DataStore({trackBankSize:this._.options.trackBankSize,trackInsertCount:this._.options.trackInsertCount,trackSendCount:this._.options.trackAuxCount,trackReceiveCount:this._.options.trackAuxCount,fxParamBankSize:this._.options.fxParamBankSize});e.addListener(this._handleUpdate.bind(this)),this._.store=e},_createMixer:function(){this._.widgets.mixer=new i.Controls.Mixer(this,{channels:this._.options.trackBankSize}),this._.layers.mixer=new i.Controls.Layer(this._.widgets.mixer),this._.layers.mixer.attach(this._.root)},_createAux:function(){this._.widgets.aux=new i.Controls.AuxMixer(this,{channels:this._.options.trackAuxCount}),this._.layers.aux=new i.Controls.Layer(this._.widgets.aux),this._.layers.aux.attach(this._.root)},_createFxEditor:function(){this._.widgets.fx=new i.Controls.FxEditor(this,{}),this._.layers.fx=new i.Controls.Layer(this._.widgets.fx),this._.layers.fx.attach(this._.root)},_handleMessage:function(e){this._.store.handleMessage(e.address,e.args)},_reposition:function(){t.each(this._.widgets,function(e){e.reposition()})},_handleUpdate:function(e){var n="fx"===this._.active?"fxParams":"tracks";this._.active&&t.has(e,n)&&this._.widgets[this._.active].update(e[n])}})}(jQuery,_,osc),function(e,t,n){var i=new n.App;i.run(),window._app=i}(jQuery,_,window.Contrall||{});
//# sourceMappingURL=/_js/contrall.min.map